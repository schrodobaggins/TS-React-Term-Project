{"code":"(this.webpackJsonplambdavibe=this.webpackJsonplambdavibe||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){\"use strict\";n.r(t);var a=n(0),c=n.n(a),i=n(45),s=n.n(i),o=n(9),r=n.n(o),u=n(12),d=n(13),l=n(40),h=n(17),b=n(20),v=n(121),j=n(59),x=n(2),p=n(14),f=n(18),m=function e(t,n){Object(x.a)(this,e),this.type=void 0,this.args=void 0,this.type=t,this.args=Object(f.d)(n)};function g(e,t){var n=t.type,a=t.args;console.debug(\"\".concat(n));var c=function(){switch(n){case\"SET_SOCKET\":var t=e.get(\"socket\");return t&&t.close(),e.set(\"socket\",a.get(\"socket\"));case\"DELETE_SOCKET\":return e.delete(\"socket\");case\"SET_SONGS\":var c=a.get(\"songs\");return console.log(c),e.set(\"songs\",c);case\"PLAY_SONG\":var i=e.get(\"songs\").find((function(e){return e.get(\"id\")===a.get(\"id\")})).get(\"notes\");return e.set(\"notes\",i);case\"STOP_SONG\":return e.delete(\"notes\");case\"SET_LOCATION\":var s,o=a.getIn([\"location\",\"pathname\"],\"\"),r=a.getIn([\"location\",\"search\"],\"\"),u=o.substring(1),d=null!==(s=new URLSearchParams(r.substring(1)).get(\"visualizer\"))&&void 0!==s?s:\"\",l=e.get(\"instruments\"),h=e.get(\"visualizers\"),b=l.find((function(e){return e.name===u})),v=h.find((function(e){return e.name===d}));return e.set(\"instrument\",b).set(\"visualizer\",v);case\"TRIGGER_RECORDING\":var j=a.get(\"isRecording\");return e.set(\"isRecording\",!j);case\"TRIGGER_RECORDING_POPUP\":var x=a.get(\"openPopup\");return e.set(\"openPopup\",!x);case\"RECORD_A_SONG\":var f=a.get(\"song\");return e.set(\"song\",f);case\"ADD_NOTE_TO_SONG\":var m=a.get(\"note\"),g=e.get(\"song\");return g=[].concat(Object(p.a)(g),[m]),e.set(\"song\",g);default:return console.error(\"type unknown: \".concat(n,\"\\n\"),a.toJS()),e}}();return console.debug(c.update(\"socket\",(function(e){return e?\"[socket]\":e})).toJS()),c}var O=n(11),w=function e(t,n){Object(x.a)(this,e),this.name=void 0,this.component=void 0,this.name=t,this.component=n};function N(e){var t=e.name;return Object(O.jsx)(\"div\",{className:\"w-100 h3 bb b--light-gray flex justify-between items-center ph4\",children:Object(O.jsx)(\"div\",{children:t})})}var k=function(e){var t=e.instrument,n=e.state,c=e.dispatch,i=t.component,s=Object(a.useState)(new b.e({oscillator:{type:\"sine\"}}).toDestination()),o=Object(d.a)(s,2),r=o[0],u=o[1],l=n.get(\"notes\");return Object(a.useEffect)((function(){if(l&&r){var e=l.split(\" \"),t=e.map((function(e,t){return{idx:t,time:\"+\".concat(t/4),note:e,velocity:1}}));return new b.c((function(t,n){r.triggerAttackRelease(n.note,\"4n\",t,n.velocity),n.idx===e.length-1&&c(new m(\"STOP_SONG\"))}),t).start(0),b.f.start(),function(){b.f.cancel()}}return function(){}}),[l,r,c]),Object(O.jsxs)(\"div\",{children:[Object(O.jsx)(N,{name:t.name}),Object(O.jsx)(\"div\",{className:\"bg-white absolute right-0 left-0\",style:{top:\"4rem\"},children:Object(O.jsx)(i,{name:t.name,state:n,dispatch:c,synth:r,setSynth:u})})]})},y=n(31),S=n.n(y),E=n(119),R=n(120),C=n(122),D=(n(82),n(83),n(39)),T=n.n(D),_=function(){var e=Object(u.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(\"/api/songs\",{headers:{\"Content-Type\":\"application/json\"}});case 3:200===(n=e.sent).status&&t(new m(\"SET_SONGS\",{songs:n.data.songs})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case\"end\":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(u.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(\"/api/songs/\".concat(n),{headers:{\"Content-Type\":\"application/json\"}});case 3:200===(a=e.sent).status&&t(new m(\"SET_SONGS\",{songs:a.data.songs})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case\"end\":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(r.a.mark((function e(t,n,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.put(\"/api/songs/\".concat(a),null,{params:{newTitle:n}});case 3:if(200!==e.sent.status){e.next=7;break}return e.next=7,_(t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(r.a.mark((function e(t,n,a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={song_title:n,song:a},e.next=4,T.a.post(\"/api/songs\",c,{headers:{\"Content-Type\":\"application/json\"}});case 4:if(201!==e.sent.status){e.next=8;break}return e.next=8,_(t);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.delete(\"/api/songs/\".concat(n));case 3:if(200!==e.sent.status){e.next=7;break}return e.next=7,_(t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),M=function(e){var t=e.title,n=e.children;return Object(O.jsxs)(\"div\",{className:\"flex flex-column h-25 bb b--light-gray pa3\",children:[Object(O.jsxs)(\"div\",{className:\"fw7 mb2\",children:[t,\" \"]}),Object(O.jsx)(\"div\",{className:\"flex-auto overflow-auto\",children:n})]})};function z(e){var t=e.to,n=e.text,a=e.active,c=e.onClick;return Object(O.jsx)(l.b,{to:t,className:\"no-underline\",children:Object(O.jsxs)(\"div\",{className:S()(\"f7 flex items-center black\",{fw7:a}),onClick:c,children:[a?Object(O.jsx)(E.b,{className:\"mr1\"}):Object(O.jsx)(E.a,{className:\"mr1\"}),Object(O.jsx)(\"div\",{className:\"dim\",children:n})]})})}function B(e){var t=e.isRecording,n=e.onClick;return Object(O.jsx)(\"div\",{className:\"recording-buttons\",children:Object(O.jsx)(\"button\",{className:\"recording-button\",onClick:n,children:t?\"Stop\":\"Record\"})})}function F(e){e.state;var t=e.dispatch,n=e.songId,a=e.isShowingUD,i=c.a.useState(\"\"),s=Object(d.a)(i,2),o=s[0],l=s[1],h=function(){var e=Object(u.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!n){e.next=4;break}return e.next=4,A(t,o,n);case 4:l(\"\");case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,I(t,n);case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(\"div\",{className:\"ud-menu\",children:a&&Object(O.jsxs)(\"div\",{className:\"ud-menu-content\",children:[Object(O.jsx)(\"form\",{className:\"update-form\",onSubmit:h,children:Object(O.jsx)(\"fieldset\",{className:\"update-form-fieldset\",children:Object(O.jsxs)(\"label\",{children:[Object(O.jsx)(\"input\",{value:o,onChange:function(e){return l(e.target.value)},type:\"text\",placeholder:\"Edit the song title\"}),Object(O.jsx)(\"input\",{type:\"submit\",hidden:!0})]})})}),Object(O.jsx)(R.a,{className:\"delete-icon dim\",onClick:b})]})})}function U(e){var t,n=e.state,a=n.get(\"instruments\"),c=null===(t=n.get(\"instrument\"))||void 0===t?void 0:t.name,i=Object(h.f)();return Object(O.jsx)(M,{title:\"Instruments\",children:a.map((function(e){return Object(O.jsx)(z,{to:\"/\".concat(e.name).concat(i.search),text:e.name,active:e.name===c,onClick:function(){return console.log(e.name)}},e.name)}))})}function W(e){var t,n=e.state,a=n.get(\"visualizers\"),c=null===(t=n.get(\"visualizer\"))||void 0===t?void 0:t.name,i=Object(h.f)();return Object(O.jsx)(M,{title:\"Visualizers\",children:a.map((function(e){return Object(O.jsx)(z,{to:{pathname:i.pathname,search:\"?visualizer=\".concat(e.name)},text:e.name,active:e.name===c,onClick:function(){return console.log(e.name)}},e.name)}))})}function L(e){var t=e.handleSearchChange;return Object(O.jsx)(\"form\",{onSubmit:function(e){e.preventDefault()},children:Object(O.jsx)(\"fieldset\",{className:\"form-fieldset\",children:Object(O.jsxs)(\"label\",{children:[Object(O.jsx)(\"input\",{type:\"text\",name:\"search\",onChange:t,placeholder:\"Search\",autoComplete:\"off\"}),Object(O.jsx)(\"input\",{type:\"submit\",hidden:!0})]})})})}function H(e){var t=e.state,n=e.dispatch,a=e.songId,i=e.song,s=c.a.useState(!1),o=Object(d.a)(s,2),r=o[0],u=o[1];return void 0!==i?Object(O.jsxs)(\"div\",{className:\"song-wrapper\",children:[Object(O.jsxs)(\"div\",{className:\"inline-flex w-100\",children:[Object(O.jsx)(\"div\",{className:\"f7 pointer song underline no-underline i\",onClick:function(){return n(new m(\"PLAY_SONG\",{id:i.get(\"id\")}))},children:Object(O.jsxs)(\"div\",{className:\"song-content dim\",children:[Object(O.jsx)(v.a,{className:\"mr1\"}),i.get(\"songTitle\")]})},i.get(\"id\")),Object(O.jsx)(\"div\",{className:\"overflow-menu\",children:Object(O.jsx)(C.a,{onClick:function(){return u(!r)},className:\"dim\"})})]}),Object(O.jsx)(F,{state:t,dispatch:n,songId:a,isShowingUD:r})]}):Object(O.jsx)(O.Fragment,{children:\" \"})}function V(e){var t=e.state,n=e.dispatch,a=e.searchTerm,c=t.get(\"songs\",Object(f.a)());return Object(O.jsx)(M,{title:\"Playlist\",children:c.filter((function(e){return e.get(\"songTitle\").includes(a)})).map((function(e){var a=e.get(\"id\");return Object(O.jsx)(H,{state:t,dispatch:n,song:e,songId:a})}))})}function Y(e){var t=e.state,n=e.dispatch,a=t.get(\"isRecording\"),i=t.get(\"openPopup\"),s=c.a.useState(!1),o=Object(d.a)(s,2),r=o[0],u=o[1],l=c.a.useState(!1),h=Object(d.a)(l,2),b=h[0],v=h[1];return Object(O.jsxs)(M,{title:\"Record a Song\",children:[Object(O.jsx)(B,{onClick:function(){n(new m(\"TRIGGER_RECORDING\",{isRecording:a})),t.get(\"isRecording\")?(u(!1),v(!0),setTimeout((function(){v(!1)}),3e3),n(new m(\"TRIGGER_RECORDING_POPUP\",{openPopup:i}))):(u(!0),n(new m(\"RECORD_A_SONG\",{song:[]})))},isRecording:a}),Object(O.jsxs)(\"div\",{className:\"recording-button-message-wrapper\",children:[r&&Object(O.jsxs)(\"div\",{className:\"recording-button-message\",children:[Object(O.jsx)(\"div\",{className:\"blinking-record-icon\",children:\"  \"}),Object(O.jsx)(\"p\",{children:\" Your recording is live \"})]}),b&&Object(O.jsx)(\"p\",{children:\" Your recording has stopped \"})]})]})}function K(e){var t=e.state,n=e.dispatch,a=c.a.useState(\"\"),i=Object(d.a)(a,2),s=i[0],o=i[1],l=function(){var e=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"\"!==t.target.value){e.next=5;break}return e.next=3,_(n);case 3:return o(\"\"),e.abrupt(\"return\");case 5:if(!s.includes(t.target.value)){e.next=8;break}return o(t.target.value),e.abrupt(\"return\");case 8:return e.next=10,G(n,t.target.value);case 10:o(\"\");case 11:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(\"div\",{className:\"absolute top-0 left-0 bottom-0 w5 z-1 shadow-1 bg-white flex flex-column\",children:[Object(O.jsx)(\"div\",{className:\"h3 fw7 f5 flex items-center pl3 bb b--light-gray\",children:\"Quadtuplets\"}),Object(O.jsxs)(\"div\",{className:\"flex-auto\",children:[Object(O.jsx)(U,{state:t,dispatch:n}),Object(O.jsx)(W,{state:t,dispatch:n}),Object(O.jsx)(L,{handleSearchChange:l}),Object(O.jsx)(V,{state:t,dispatch:n,searchTerm:s}),Object(O.jsx)(Y,{state:t,dispatch:n})]})]})}var J=n(62),q=n.n(J),Q=function e(t,n){Object(x.a)(this,e),this.name=void 0,this.draw=void 0,this.name=t,this.draw=n};function X(e){var t=e.visualizer,n=t.name,c=t.draw,i=\"Circumference\"===n,s=Object(a.useMemo)((function(){return new b.a(\"waveform\",256)}),[]),o=Object(a.useCallback)((function(e){var t=window.innerWidth,n=window.innerHeight/2;e.resizeCanvas(t,n,!1)}),[]);Object(a.useEffect)((function(){return b.g().volume.value=-5,b.g().connect(s),function(){b.g().disconnect(s)}}),[s]);return Object(O.jsxs)(\"div\",{className:i?\"bg-grey absolute right-0 h-100 w-50\":\"bg-black absolute bottom-0 right-0 left-0 h-50\",children:[Object(O.jsx)(\"div\",{className:\"z-1 absolute left-0 top-0 pa4 white f5\",children:n}),Object(O.jsx)(q.a,{setup:function(e,t){var n=i?window.innerWidth/2:window.innerWidth,a=i?window.innerHeight:window.innerHeight/2;e.createCanvas(n,a).parent(t),e.angleMode(e.DEGREES)},draw:function(e){return c(e,s)},windowResized:o,className:i?\"circumference-visualizer\":\"\"})]})}n(109);function Z(e){var t=e.state,n=e.dispatch,a=t.get(\"instrument\");return Object(O.jsx)(\"div\",{children:a&&Object(O.jsx)(k,{state:t,dispatch:n,instrument:a})})}function $(e){var t=e.state.get(\"visualizer\");return Object(O.jsx)(\"div\",{children:t&&Object(O.jsx)(X,{visualizer:t},t.name)})}function ee(e){var t=e.state,n=e.dispatch;return Object(O.jsxs)(\"div\",{className:\"absolute right-0 bottom-0 top-0 flex flex-column\",style:{left:\"16rem\"},children:[Object(O.jsx)(Z,{state:t,dispatch:n}),Object(O.jsx)($,{state:t,dispatch:n}),Object(O.jsx)(te,{state:t,dispatch:n})]})}function te(e){var t=e.state,n=e.dispatch,a=t.get(\"openPopup\");return Object(O.jsx)(j.a,{open:a,closeOnDocumentClick:!0,children:Object(O.jsxs)(\"div\",{className:\"modal\",children:[Object(O.jsx)(\"button\",{className:\"close close-modal\",onClick:function(){return n(new m(\"TRIGGER_RECORDING_POPUP\",{openPopup:a}))},children:\"\\xd7\"}),Object(O.jsx)(ne,{state:t,dispatch:n})]})})}function ne(e){var t=e.state,n=e.dispatch,a=c.a.useState(!1),i=Object(d.a)(a,2),s=i[0],o=i[1],l=c.a.useState(!1),h=Object(d.a)(l,2),b=h[0],v=h[1],j=c.a.useState(\"\"),x=Object(d.a)(j,2),p=x[0],f=x[1],m=function(){var e=Object(u.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),o(!0),e.next=4,P(n,p,t.get(\"song\"));case 4:setTimeout((function(){o(!1),v(!0),setTimeout((function(){v(!1),f(\"\")}),3e3)}),3e3);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(\"form\",{className:\"recording-form\",onSubmit:m,children:[Object(O.jsx)(\"fieldset\",{className:\"form-fieldset\",children:Object(O.jsxs)(\"label\",{className:\"form-fieldset-label\",children:[Object(O.jsx)(\"h3\",{children:\" You're almost done! \"}),Object(O.jsx)(\"p\",{children:\" As a last step, enter a title for your song recording. \"}),Object(O.jsx)(\"input\",{value:p,onChange:function(e){return f(e.target.value)},placeholder:\"Enter a song title\"})]})}),Object(O.jsx)(\"button\",{className:\"form-button\",type:\"submit\",children:\" Submit \"}),Object(O.jsxs)(\"div\",{className:\"form-submission-message\",children:[s&&Object(O.jsx)(\"p\",{children:\" Submitting form... \"}),b&&Object(O.jsx)(\"p\",{children:\" Your song has been submitted! \"})]})]})}function ae(){return Object(O.jsx)(\"div\",{className:\"absolute right-0 bottom-0 top-0 flex flex-column items-center justify-center\",style:{left:\"16rem\"},children:Object(O.jsxs)(\"div\",{className:\"mw6 lh-copy mb4\",children:[Object(O.jsx)(v.b,{}),Object(O.jsx)(\"div\",{className:\"f3 fw7 mb2\",children:\"Welcome to the case study.\"}),Object(O.jsx)(\"div\",{className:\"f4 mb3\",children:\"Select an instrument and a visualizer on the left to serve some fresh beats.\"}),Object(O.jsx)(\"div\",{className:\"f5\",children:\"The UI is yours to design. Express yourself.\"})]})})}function ce(e){var t=e.state,n=e.dispatch,c=Object(h.f)(),i=!t.get(\"instrument\");return console.log(\"INSTRUMENT\",i),Object(a.useEffect)((function(){n(new m(\"SET_LOCATION\",{location:c}))}),[n,c]),Object(O.jsxs)(\"div\",{className:\"fixed top-0 left-0 h-100 w-100 bg-white\",onClick:function(){return b.h()},children:[Object(O.jsx)(K,{state:t,dispatch:n}),i?Object(O.jsx)(ae,{}):Object(O.jsx)(ee,{state:t,dispatch:n})]})}function ie(e){var t=e.note,n=e.synth,a=e.minor,c=e.index,i=e.state,s=e.dispatch;return Object(O.jsx)(\"div\",{onMouseDown:function(){null===n||void 0===n||n.triggerAttack(\"\".concat(t)),i.get(\"isRecording\")&&s(new m(\"ADD_NOTE_TO_SONG\",{note:t}))},onMouseUp:function(){return null===n||void 0===n?void 0:n.triggerRelease(\"+0.25\")},className:S()(\"ba pointer absolute dim\",{\"bg-black black h3\":a,\"black bg-white h4\":!a}),style:{top:0,left:\"\".concat(2*c,\"rem\"),zIndex:a?1:0,width:a?\"1.5rem\":\"2rem\",marginLeft:a?\"0.25rem\":0}})}function se(e){var t=e.title,n=e.onClick,a=e.active;return Object(O.jsx)(\"div\",{onClick:n,className:S()(\"dim pointer ph2 pv1 ba mr2 br1 fw7 bw1\",{\"b--black black\":a,\"gray b--light-gray\":!a}),children:t})}var oe=new w(\"Piano\",(function(e){var t=e.state,n=e.dispatch,a=e.synth,c=e.setSynth,i=Object(f.a)([{note:\"C\",idx:0},{note:\"Db\",idx:.5},{note:\"D\",idx:1},{note:\"Eb\",idx:1.5},{note:\"E\",idx:2},{note:\"F\",idx:3},{note:\"Gb\",idx:3.5},{note:\"G\",idx:4},{note:\"Ab\",idx:4.5},{note:\"A\",idx:5},{note:\"Bb\",idx:5.5},{note:\"B\",idx:6}]),s=Object(f.a)([\"sine\",\"sawtooth\",\"square\",\"triangle\",\"fmsine\",\"fmsawtooth\",\"fmtriangle\",\"amsine\",\"amsawtooth\",\"amtriangle\"]);return Object(O.jsxs)(\"div\",{className:\"pv4\",children:[Object(O.jsx)(\"div\",{className:\"relative dib h4 w-100 ml4\",children:Object(f.c)(2,7).map((function(e){return i.map((function(c){var i=-1!==c.note.indexOf(\"b\"),s=\"\".concat(c.note).concat(e);return Object(O.jsx)(ie,{note:s,synth:a,minor:i,octave:e,index:7*(e-2)+c.idx,state:t,dispatch:n},s)}))}))}),Object(O.jsx)(\"div\",{className:\"pl4 pt4 flex\",children:s.map((function(e){return Object(O.jsx)(se,{title:e,onClick:function(){return t=e,void c((function(e){return e.disconnect(),new b.e({oscillator:{type:t}}).toDestination()}));var t},active:(null===a||void 0===a?void 0:a.oscillator.type)===e},e)}))})]})}));n(110);function re(e){var t=e.note,n=e.synth,a=(e.index,e.state),c=e.dispatch;return Object(O.jsx)(\"div\",{className:\"ukulele-fret\",onMouseDown:function(){console.log(t),null===n||void 0===n||n.triggerAttack(\"\".concat(t)),a.get(\"isRecording\")&&c(new m(\"ADD_NOTE_TO_SONG\",{note:t}))},onMouseUp:function(){return null===n||void 0===n?void 0:n.triggerRelease(\"+0.25\")}})}var ue=new w(\"mitchthebaker\",(function(e){var t=e.state,n=e.dispatch,a=e.synth,c=(e.setSynth,Object(f.a)([[{note:\"G\",octave:4,idx:49},{note:\"C\",octave:4,idx:50},{note:\"E\",octave:4,idx:51},{note:\"A\",octave:4,idx:52}],[{note:\"Ab\",octave:5,idx:0},{note:\"Db\",octave:5,idx:1},{note:\"F\",octave:5,idx:2},{note:\"Bb\",octave:5,idx:3}],[{note:\"A\",octave:5,idx:4},{note:\"D\",octave:5,idx:5},{note:\"Gb\",octave:5,idx:6},{note:\"B\",octave:5,idx:7}],[{note:\"Bb\",octave:5,idx:8},{note:\"Eb\",octave:5,idx:9},{note:\"G\",octave:5,idx:10},{note:\"C\",octave:6,idx:11}],[{note:\"B\",octave:5,idx:12},{note:\"E\",octave:5,idx:13},{note:\"Ab\",octave:5,idx:14},{note:\"Db\",octave:6,idx:15}],[{note:\"C\",octave:6,idx:16},{note:\"F\",octave:5,idx:17},{note:\"A\",octave:5,idx:18},{note:\"D\",octave:6,idx:19}],[{note:\"Db\",octave:6,idx:20},{note:\"Gb\",octave:5,idx:21},{note:\"Bb\",octave:5,idx:22},{note:\"Eb\",octave:6,idx:23}],[{note:\"D\",octave:6,idx:24},{note:\"G\",octave:5,idx:25},{note:\"B\",octave:5,idx:26},{note:\"E\",octave:6,idx:27}],[{note:\"Eb\",octave:6,idx:28},{note:\"Ab\",octave:5,idx:29},{note:\"C\",octave:6,idx:30},{note:\"F\",octave:6,idx:31}],[{note:\"E\",octave:6,idx:32},{note:\"A\",octave:5,idx:33},{note:\"Db\",octave:6,idx:34},{note:\"Gb\",octave:6,idx:35}],[{note:\"F\",octave:6,idx:36},{note:\"Bb\",octave:5,idx:37},{note:\"D\",octave:6,idx:38},{note:\"G\",octave:6,idx:39}],[{note:\"Gb\",octave:6,idx:40},{note:\"B\",octave:5,idx:42},{note:\"Eb\",octave:6,idx:43},{note:\"Ab\",octave:6,idx:44}],[{note:\"G\",octave:6,idx:45},{note:\"C\",octave:6,idx:46},{note:\"E\",octave:6,idx:47},{note:\"A\",octave:6,idx:48}]]));return Object(O.jsx)(\"div\",{className:\"pv4\",children:Object(O.jsx)(\"div\",{className:\"relative dib h4 w-50\",children:Object(O.jsx)(\"div\",{className:\"ukulele\",children:c.map((function(e,c){var i=5===c||7===c||10===c;return Object(O.jsxs)(\"div\",{className:0===c?\"fret-strings\":\"fret\",children:[i&&Object(O.jsx)(\"span\",{className:\"fret-marker\"}),e.map((function(e){var i=\"\".concat(e.note).concat(e.octave);return Object(O.jsx)(re,{note:i,synth:a,index:c,state:t,dispatch:n})}))]})}))})})})})),de=(new b.d).toDestination();function le(e){var t=e.note,n=e.identity,a=e.state,c=e.dispatch;return Object(O.jsx)(\"div\",{children:Object(O.jsx)(\"button\",{onMouseDown:function(){null===de||void 0===de||de.triggerAttack(\"\".concat(t)),a.get(\"isRecording\")&&c(new m(\"ADD_NOTE_TO_SONG\",{note:t}))},onMouseUp:function(){return null===de||void 0===de?void 0:de.triggerRelease(\"\".concat(t),\"+0.19\")},style:{},children:n})})}de.set({detune:-1200});var he=new w(\"kennethchuson2\",(function(e){var t=e.state,n=e.dispatch,a=e.synth,c=Object(f.a)([{note:\"G5\",idx:0},{note:\"F5\",idx:.5},{note:\"E5\",idx:1},{note:\"D5\",idx:1.5},{note:\"B4\",idx:2},{note:\"C5\",idx:0},{note:\"D5\",idx:.5},{note:\"E5\",idx:1},{note:\"F5\",idx:1.5}]);return Object(O.jsxs)(\"div\",{className:\"pv5\",children:[Object(O.jsx)(\"div\",{className:\"pl4 pt4 flex\"}),Object(O.jsx)(\"div\",{className:\"Kalimba_main\",children:Object(O.jsx)(\"div\",{style:{backgroundImage:'url(\"https://cdn-icons-png.flaticon.com/512/3100/3100511.png\")',backgroundRepeat:\"no-repeat\",right:\"50px\"},children:Object(O.jsx)(\"div\",{style:{height:\"500px\",width:\"320px\"},children:Object(O.jsx)(\"div\",{className:\"keys\",style:{margin:\"auto\",width:\"60%\",padding:\"30px\",display:\"flex\"},children:Object(f.c)(1,2).map((function(e){return c.map((function(c){var i=\"\".concat(c.note);return Object(O.jsx)(le,{note:i,synth:a,octave:e,identity:c.note,index:7*(e-2)+c.idx,state:t,dispatch:n},i)}))}))})})})})]})})),be=(new b.b).toDestination();function ve(e){var t=e.note,n=e.minor,a=e.index,c=e.state,i=e.dispatch;return Object(O.jsx)(\"div\",{onMouseDown:function(){null===be||void 0===be||be.triggerAttack(\"\".concat(t)),c.get(\"isRecording\")&&i(new m(\"ADD_NOTE_TO_SONG\",{note:t}))},onMouseUp:function(){return null===be||void 0===be?void 0:be.triggerRelease(\"+0.32\")},className:S()(\"ba pointer absolute dim\",{\"black bg-white h4\":!n}),style:{top:6,left:\"\".concat(5*a,\"rem\"),zIndex:n?4:2,width:n?\"2rem\":\"5rem\",height:n?\"2rem\":\"5rem\",borderRadius:44,marginLeft:n?\"0.25rem\":25}})}var je=new w(\"schrodobaggins\",(function(e){var t=e.state,n=e.dispatch,a=e.synth,c=Object(f.a)([[{note:\"Ab\",octave:6,idx:9},{note:\"Db\",octave:6,idx:1},{note:\"F\",octave:6,idx:2},{note:\"Bb\",octave:4,idx:3}],[{note:\"A\",octave:4,idx:4},{note:\"D\",octave:4,idx:5},{note:\"Gb\",octave:6,idx:6},{note:\"B\",octave:6,idx:7}],[{note:\"Bb\",octave:6,idx:8},{note:\"Eb\",octave:6,idx:9}]]);return Object(O.jsx)(\"div\",{className:\"pv4\",children:Object(O.jsxs)(\"div\",{className:\"relative dib h4 w-50\",children:[Object(O.jsxs)(\"div\",{className:\"flute\",children:[c.map((function(e){return Object(O.jsx)(\"div\",{className:\"blow\",children:e.map((function(e){var c=\"\".concat(e.note).concat(e.octave);return Object(O.jsx)(ve,{note:c,synth:a,index:e.idx,state:t,dispatch:n})}))})})),Object(O.jsx)(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a8/Pan_flute.svg/868px-Pan_flute.svg.png\",alt:\"Pan\",style:{margin:\"10px\",width:\"650px\",borderRadius:\"30px\",objectFit:\"scale-down\",marginBottom:\"15px\",alignSelf:\"center\"}})]}),Object(O.jsx)(\"div\",{className:\"pl4 pt4 flex\"})]})})})),xe=new Q(\"Waveform\",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2,c=Math.min(n,a);e.background(0,0,0,255),e.strokeWeight(.01*c),e.stroke(255,255,255,255),e.noFill();var i=t.getValue();e.beginShape();for(var s=0;s<i.length;s++){var o=i[s],r=e.map(s,0,i.length-1,0,n),u=a/2+o*a;e.vertex(r,u)}e.endShape()})),pe=n(3),fe=[],me=function(){function e(t){Object(x.a)(this,e),this.position=void 0,this.velocity=void 0,this.acc=void 0,this.w=void 0,this.color=void 0,this.position=Object.getPrototypeOf(t).constructor.Vector.random2D().mult(250),this.velocity=t.createVector(0,0),this.acc=this.position.copy().mult(t.random(.001,1e-4)),this.w=t.random(3,5),this.color=[t.random(200,255),t.random(200,255),t.random(200,255)]}return Object(pe.a)(e,[{key:\"update\",value:function(){this.velocity.add(this.acc),this.position.add(this.velocity)}},{key:\"edges\",value:function(e,t){return this.position.x<-e/2||this.position.x>e/2||this.position.y<-t/2||this.position.y>t/2}},{key:\"show\",value:function(e){e.noStroke(),e.fill(this.color),e.ellipse(this.position.x,this.position.y,this.w)}}]),e}(),ge=new Q(\"mitchthebaker\",(function(e,t){var n=window.innerWidth/2,a=window.innerHeight;e.background(0),e.stroke(255),e.strokeWeight(3),e.noFill(),e.translate(n/2,a/2);for(var c=t.getValue(),i=-1;i<=1;i+=2){e.beginShape();for(var s=0;s<=180;s+=.5){var o=Math.floor(e.map(s,0,180,0,c.length-1)),r=e.map(Number(c[o]),-1,1,150,350),u=r*e.sin(s)*i,d=r*e.cos(s);e.vertex(u,d)}e.endShape()}var l=new me(e);fe.push(l);for(var h=fe.length-1;h>=0;h--)fe[h].edges(n,a)?fe.splice(h,1):(fe[h].update(),fe[h].show(e))})),Oe=new Q(\"kennethchuson2\",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2,c=Math.min(n,a),i=[\"rgb(0,255,0)\",\"rgb(195,4,4)\",\"rgb(42,13,191)\",\"rgba(0,234,242)\"];e.background(\"#4F1B77\"),e.strokeWeight(.03*c);for(var s=i.length-1;s>0;s--){var o=Math.floor(Math.random()*(s+1)),r=i[s];i[s]=i[o],i[o]=r,e.stroke(i[s])}var u=t.getValue();e.translate(n/2,a/2),e.beginShape();for(var d=0;d<u.length;d++){var l=u[d],h=l*Math.cos(d)*n/1.15,b=l*Math.sin(d)*a/1.15;e.point(h,b)}e.endShape()})),we=new Q(\"Schrodobaggins\",(function(e,t){var n=window.innerWidth,a=window.innerHeight/2;e.background(0),e.fill(255),e.noStroke();var c=t.getValue();e.text(\"Amplitude: \"+c,30,65),e.text(\"mapMax: 1\",30,80),e.beginShape();for(var i=0;i<c.length;i++){var s=c[i],o=e.map(1.25*s,.5,c.length/50,a,n);e.ellipse(n/2,o,50,50)}e.endShape()})),Ne=Object(f.a)([oe,ue,he,je]),ke=Object(f.a)([xe,ge,Oe,we]),ye=Object(f.b)({instruments:Ne,visualizers:ke,isRecording:!1,openPopup:!1,songTitle:\"\"}),Se=n(10),Ee=n(29),Re=n(66),Ce=[\"error\"],De={transports:[\"websocket\"],path:\"/ws\",autoConnect:!0,reconnection:!0,timeout:1e4},Te=1;function _e(e,t,n){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(u.a)(r.a.mark((function e(t,n,a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Te++,e.abrupt(\"return\",new Promise((function(e,i){t.once(\"\".concat(n,\".\").concat(c),(function(t){var n=t.error,a=Object(Ee.a)(t,Ce);a?e(a):i(n)})),t.emit(n,Object(Se.a)({_id:c},a))})));case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}n(115);var Ae=function(){var e=Object(a.useReducer)(g,ye),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){!function(e,t){var n=Object(Re.a)(\"ws://localhost:3001\",De);n.on(\"connect\",(function(){return e(n)})),n.on(\"disconnect\",t)}(function(){var e=Object(u.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(new m(\"SET_SOCKET\",{socket:t})),e.next=3,_e(t,\"get_songs\",{});case 3:n=e.sent,a=n.songs,c(new m(\"SET_SONGS\",{songs:a}));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(){c(new m(\"DELETE_SOCKET\"))}))}),[]),Object(O.jsx)(l.a,{children:Object(O.jsxs)(h.c,{children:[Object(O.jsx)(h.a,{path:\"/\",children:Object(O.jsx)(ce,{state:n,dispatch:c})}),Object(O.jsx)(h.a,{path:\"/:instrument\",children:Object(O.jsx)(ce,{state:n,dispatch:c})}),Object(O.jsx)(h.a,{path:\"*\",children:Object(O.jsx)(\"div\",{children:\"404\"})})]})})};n(116),n(117);var Pe=document.getElementById(\"root\");s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(Ae,{})}),Pe,(function(){console.log(\"React has loaded.\")}))},82:function(e,t,n){},83:function(e,t,n){}},[[118,1,2]]]);","name":"static/js/main.bf73af6c.chunk.js","map":{"version":3,"sources":["static/js/main.bf73af6c.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","react_router_dom","react_router","esm","bucket_17","reactjs_popup_esm","classCallCheck","toConsumableArray","immutable_es","Reducer_DispatchAction","DispatchAction","type","args","Object","appReducer","state","action","console","debug","concat","newState","oldSocket","get","close","set","delete","songs","log","notes","find","s","_URLSearchParams$get","pathname","getIn","search","instrumentName","substring","visualizerName","URLSearchParams","instruments","visualizers","instrument","i","name","visualizer","v","isRecording","openPopup","song","note","songCopy","error","toJS","update","jsx_runtime","Instruments_Instrument","Instrument","component","TopNav","_ref","className","children","Instruments_InstrumentContainer","_ref2","dispatch","InstrumentComponent","_useState","oscillator","toDestination","_useState2","synth","setSynth","eachNote","split","noteObjs","map","idx","time","velocity","value","triggerAttackRelease","length","start","cancel","style","top","classnames","classnames_default","bucket_20","bucket_26","bucket_18","axios","axios_default","getSongs","a","mark","_callee","res","wrap","_context","prev","next","headers","sent","status","data","t0","stop","_x","apply","arguments","getSong","_callee2","songTitle","_context2","_x2","_x3","updateSong","_ref3","_callee3","newTitle","songId","_context3","put","params","_x4","_x5","_x6","addSong","_ref4","_callee4","body","_context4","song_title","post","_x7","_x8","_x9","deleteSong","_ref5","_callee5","_context5","_x10","_x11","SideNav_Section","title","RadioButton","to","text","active","onClick","fw7","RecordingButton","UpdateAndDeleteButton","isShowingUD","_React$useState","useState","_React$useState2","setNewTitle","handleSubmit","e","preventDefault","handleDelete","_ref6","onSubmit","onChange","target","placeholder","hidden","Instruments","_ref7","_state$get","activeInstrument","location","Visualizers","_ref8","_state$get2","activeVisualizer","Search","_ref9","handleSearchChange","autoComplete","Song","_ref10","_React$useState3","_React$useState4","setIsShowingUD","undefined","id","Songs","_ref11","searchTerm","filter","includes","RecordingButtons","_ref12","_React$useState5","_React$useState6","startRecording","setStartRecording","_React$useState7","_React$useState8","stopRecording","setStopRecording","setTimeout","SideNav","_ref13","_React$useState9","_React$useState10","setSearchTerm","_ref14","abrupt","build","build_default","Visualizers_Visualizer","Visualizer","draw","VisualizerContainer","_draw","setCircumference","analyzer","onResize","p5","width","window","innerWidth","height","innerHeight","resizeCanvas","volume","connect","disconnect","setup","canvasParentRef","createCanvas","parent","angleMode","DEGREES","windowResized","InstrumentPanel","VisualizerPanel","InstrumentAndVisualizer","left","RecordingPopup","open","closeOnDocumentClick","RecordingForm","submitting","setSubmitting","submitted","setSubmitted","input","setInput","ShowWelcome","MainPage","isWelcome","PianoKey","minor","index","onMouseDown","triggerAttack","onMouseUp","triggerRelease","zIndex","marginLeft","PianoType","PianoInstrument","keys","oscillators","octave","key","isMinor","indexOf","o","newType","oldSynth","UkuleleFret","mitchthebakerInstrument","standard_tuning_1frets","fret","marker","aFret","Polysynth","kennethchuson2_PianoKey","identity","detune","KalimbaInstrument","backgroundImage","backgroundRepeat","right","margin","padding","display","Monosynth","FluteKey","borderRadius","FluteInstrument","flute","blow","src","alt","objectFit","marginBottom","alignSelf","WaveformVisualizer","dim","Math","min","background","strokeWeight","stroke","noFill","values","getValue","beginShape","amplitude","x","y","vertex","endShape","createClass","particles","mitchthebaker_Particle","Particle","position","acc","w","color","getPrototypeOf","constructor","Vector","random2D","mult","createVector","copy","random","add","noStroke","fill","ellipse","mitchthebakerVisualizer","translate","wave","t","floor","Number","sin","cos","p","_i","edges","splice","show","KennethVisualizer","arr_colors","temp","point","MichaelWaveformVisualizer","ellipseHeight","State_instruments","State_visualizers","defaultState","objectSpread2","objectWithoutProperties","build_esm","_excluded","SOCKET_OPTS","transports","path","autoConnect","reconnection","timeout","idCounter","send","_send","socket","msg","_id","Promise","resolve","reject","once","resp","success","emit","src_App","_useReducer","_useReducer2","onConnect","onDisconnect","on","initializeSocket","_yield$send","rootEl","document","getElementById","render","StrictMode"],"mappings":"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"},"input":"(this[\"webpackJsonplambdavibe\"] = this[\"webpackJsonplambdavibe\"] || []).push([[0],{\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(45);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(9);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(40);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/tone/build/esm/index.js + 920 modules\nvar esm = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/@carbon/icons-react/es/__generated__/bucket-17.js\nvar bucket_17 = __webpack_require__(121);\n\n// EXTERNAL MODULE: ./node_modules/reactjs-popup/dist/reactjs-popup.esm.js\nvar reactjs_popup_esm = __webpack_require__(59);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/immutable/dist/immutable.es.js\nvar immutable_es = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./src/Reducer.tsx\n// 3rd party\n// project deps\nvar Reducer_DispatchAction=function DispatchAction(type,args){Object(classCallCheck[\"a\" /* default */])(this,DispatchAction);this.type=void 0;this.args=void 0;this.type=type;this.args=Object(immutable_es[\"d\" /* fromJS */])(args);};/** ------------------------------------------------------------------------ **\n * Top-level application reducer.\n ** ------------------------------------------------------------------------ */function appReducer(state,action){var type=action.type,args=action.args;console.debug(\"\".concat(type));// Question: Does this function remind of you registering callbacks?\nvar newState=function(){switch(type){case'SET_SOCKET':{var oldSocket=state.get('socket');if(oldSocket){oldSocket.close();}return state.set('socket',args.get('socket'));}case'DELETE_SOCKET':{return state.delete('socket');}case'SET_SONGS':{var songs=args.get('songs');console.log(songs);return state.set('songs',songs);}case'PLAY_SONG':{var notes=state.get('songs').find(function(s){return s.get('id')===args.get('id');}).get('notes');return state.set('notes',notes);}case'STOP_SONG':{return state.delete('notes');}case'SET_LOCATION':{var _URLSearchParams$get;var pathname=args.getIn(['location','pathname'],'');var search=args.getIn(['location','search'],'');var instrumentName=pathname.substring(1);var visualizerName=(_URLSearchParams$get=new URLSearchParams(search.substring(1)).get('visualizer'))!==null&&_URLSearchParams$get!==void 0?_URLSearchParams$get:'';var instruments=state.get('instruments');var visualizers=state.get('visualizers');var instrument=instruments.find(function(i){return i.name===instrumentName;});var visualizer=visualizers.find(function(v){return v.name===visualizerName;});return state.set('instrument',instrument).set('visualizer',visualizer);}case'TRIGGER_RECORDING':{var isRecording=args.get('isRecording');return state.set('isRecording',!isRecording);}case'TRIGGER_RECORDING_POPUP':{var openPopup=args.get('openPopup');return state.set('openPopup',!openPopup);}case'RECORD_A_SONG':{var song=args.get('song');return state.set('song',song);}case'ADD_NOTE_TO_SONG':{var note=args.get('note');var songCopy=state.get('song');songCopy=[].concat(Object(toConsumableArray[\"a\" /* default */])(songCopy),[note]);return state.set('song',songCopy);}default:console.error(\"type unknown: \".concat(type,\"\\n\"),args.toJS());return state;}}();console.debug(newState.update('socket',function(s){return s?'[socket]':s;}).toJS());return newState;}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/Instruments.tsx\n// 3rd party library imports\n// project imports\nvar Instruments_Instrument=function Instrument(name,component){Object(classCallCheck[\"a\" /* default */])(this,Instrument);this.name=void 0;this.component=void 0;this.name=name;this.component=component;};function TopNav(_ref){var name=_ref.name;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'w-100 h3 bb b--light-gray flex justify-between items-center ph4',children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:name})});}var Instruments_InstrumentContainer=function InstrumentContainer(_ref2){var instrument=_ref2.instrument,state=_ref2.state,dispatch=_ref2.dispatch;var InstrumentComponent=instrument.component;var _useState=Object(react[\"useState\"])(new esm[\"e\" /* Synth */]({oscillator:{type:'sine'}}).toDestination()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),synth=_useState2[0],setSynth=_useState2[1];var notes=state.get('notes');Object(react[\"useEffect\"])(function(){if(notes&&synth){var eachNote=notes.split(' ');var noteObjs=eachNote.map(function(note,idx){return{idx:idx,time:\"+\".concat(idx/4),note:note,velocity:1};});new esm[\"c\" /* Part */](function(time,value){// the value is an object which contains both the note and the velocity\nsynth.triggerAttackRelease(value.note,'4n',time,value.velocity);if(value.idx===eachNote.length-1){dispatch(new Reducer_DispatchAction('STOP_SONG'));}},noteObjs).start(0);esm[\"f\" /* Transport */].start();return function(){esm[\"f\" /* Transport */].cancel();};}return function(){};},[notes,synth,dispatch]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TopNav,{name:instrument.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'bg-white absolute right-0 left-0',style:{top:'4rem'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InstrumentComponent,{name:instrument.name,state:state,dispatch:dispatch,synth:synth,setSynth:setSynth})})]});};\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(31);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./node_modules/@carbon/icons-react/es/__generated__/bucket-20.js\nvar bucket_20 = __webpack_require__(119);\n\n// EXTERNAL MODULE: ./node_modules/@carbon/icons-react/es/__generated__/bucket-26.js\nvar bucket_26 = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./node_modules/@carbon/icons-react/es/__generated__/bucket-18.js\nvar bucket_18 = __webpack_require__(122);\n\n// EXTERNAL MODULE: ./src/css/ud-menu.css\nvar ud_menu = __webpack_require__(82);\n\n// EXTERNAL MODULE: ./src/css/recording_button.css\nvar recording_button = __webpack_require__(83);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(39);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/utils/apiCreators.ts\nvar getSongs=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(dispatch){var res;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios_default.a.get('/api/songs',{headers:{'Content-Type':'application/json'}});case 3:res=_context.sent;if(res.status===200){dispatch(new Reducer_DispatchAction('SET_SONGS',{songs:res.data.songs}));}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getSongs(_x){return _ref.apply(this,arguments);};}();var getSong=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(dispatch,songTitle){var res;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios_default.a.get(\"/api/songs/\".concat(songTitle),{headers:{'Content-Type':'application/json'}});case 3:res=_context2.sent;if(res.status===200){dispatch(new Reducer_DispatchAction('SET_SONGS',{songs:res.data.songs}));}_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function getSong(_x2,_x3){return _ref2.apply(this,arguments);};}();var updateSong=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(dispatch,newTitle,songId){var res;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios_default.a.put(\"/api/songs/\".concat(songId),null,{params:{newTitle:newTitle}});case 3:res=_context3.sent;if(!(res.status===200)){_context3.next=7;break;}_context3.next=7;return getSongs(dispatch);case 7:_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function updateSong(_x4,_x5,_x6){return _ref3.apply(this,arguments);};}();var addSong=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(dispatch,songTitle,song){var body,res;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;body={song_title:songTitle,song:song};_context4.next=4;return axios_default.a.post('/api/songs',body,{headers:{'Content-Type':'application/json'}});case 4:res=_context4.sent;if(!(res.status===201)){_context4.next=8;break;}_context4.next=8;return getSongs(dispatch);case 8:_context4.next=13;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](0);console.error(_context4.t0);case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[0,10]]);}));return function addSong(_x7,_x8,_x9){return _ref4.apply(this,arguments);};}();var deleteSong=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(dispatch,songId){var res;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios_default.a.delete(\"/api/songs/\".concat(songId));case 3:res=_context5.sent;if(!(res.status===200)){_context5.next=7;break;}_context5.next=7;return getSongs(dispatch);case 7:_context5.next=12;break;case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](0);console.error(_context5.t0);case 12:case\"end\":return _context5.stop();}}},_callee5,null,[[0,9]]);}));return function deleteSong(_x10,_x11){return _ref5.apply(this,arguments);};}();\n// CONCATENATED MODULE: ./src/SideNav.tsx\n// 3rd party library imports\n// project imports\n/** ------------------------------------------------------------------------ **\n * All the components in the side navigation.\n ** ------------------------------------------------------------------------ */var SideNav_Section=function Section(_ref){var title=_ref.title,children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-column h-25 bb b--light-gray pa3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"fw7 mb2\",children:[title,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-auto overflow-auto\",children:children})]});};function RadioButton(_ref2){var to=_ref2.to,text=_ref2.text,active=_ref2.active,onClick=_ref2.onClick;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:to,className:\"no-underline\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classnames_default()('f7 flex items-center black',{fw7:active}),onClick:onClick,children:[active?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bucket_20[\"b\" /* RadioButtonChecked20 */],{className:\"mr1\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bucket_20[\"a\" /* RadioButton20 */],{className:\"mr1\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dim\",children:text})]})});}function RecordingButton(_ref3){var isRecording=_ref3.isRecording,onClick=_ref3.onClick;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"recording-buttons\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"recording-button\",onClick:onClick,children:isRecording?\"Stop\":\"Record\"})});}function UpdateAndDeleteButton(_ref4){var state=_ref4.state,dispatch=_ref4.dispatch,songId=_ref4.songId,isShowingUD=_ref4.isShowingUD;var _React$useState=react_default.a.useState(''),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),newTitle=_React$useState2[0],setNewTitle=_React$useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!songId){_context.next=4;break;}_context.next=4;return updateSong(dispatch,newTitle,songId);case 4:setNewTitle('');case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref5.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!songId){_context2.next=3;break;}_context2.next=3;return deleteSong(dispatch,songId);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDelete(){return _ref6.apply(this,arguments);};}();var handleTitleChange=function handleTitleChange(e){return setNewTitle(e.target.value);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ud-menu\",children:isShowingUD&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ud-menu-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{className:\"update-form\",onSubmit:handleSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"fieldset\",{className:\"update-form-fieldset\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newTitle,onChange:handleTitleChange,type:\"text\",placeholder:\"Edit the song title\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"submit\",hidden:true})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bucket_26[\"a\" /* TrashCan20 */],{className:\"delete-icon dim\",onClick:handleDelete})]})});}function Instruments(_ref7){var _state$get;var state=_ref7.state;var instruments=state.get('instruments');var activeInstrument=(_state$get=state.get('instrument'))===null||_state$get===void 0?void 0:_state$get.name;var location=Object(react_router[\"f\" /* useLocation */])();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideNav_Section,{title:\"Instruments\",children:instruments.map(function(i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RadioButton,{to:\"/\".concat(i.name).concat(location.search),text:i.name,active:i.name===activeInstrument,onClick:function onClick(){return console.log(i.name);}},i.name);})});}function Visualizers(_ref8){var _state$get2;var state=_ref8.state;var visualizers=state.get('visualizers');var activeVisualizer=(_state$get2=state.get('visualizer'))===null||_state$get2===void 0?void 0:_state$get2.name;var location=Object(react_router[\"f\" /* useLocation */])();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideNav_Section,{title:\"Visualizers\",children:visualizers.map(function(v){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RadioButton,{to:{pathname:location.pathname,search:\"?visualizer=\".concat(v.name)},text:v.name,active:v.name===activeVisualizer,onClick:function onClick(){return console.log(v.name);}},v.name);})});}function Search(_ref9){var handleSearchChange=_ref9.handleSearchChange;var handleSubmit=function handleSubmit(e){e.preventDefault();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"fieldset\",{className:\"form-fieldset\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"search\",onChange:handleSearchChange,placeholder:\"Search\",autoComplete:\"off\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"submit\",hidden:true})]})})});}function Song(_ref10){var state=_ref10.state,dispatch=_ref10.dispatch,songId=_ref10.songId,song=_ref10.song;// UD is an abbreviation for update/delete \nvar _React$useState3=react_default.a.useState(false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),isShowingUD=_React$useState4[0],setIsShowingUD=_React$useState4[1];return song!==undefined?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"song-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"inline-flex w-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"f7 pointer song underline no-underline i\",onClick:function onClick(){return dispatch(new Reducer_DispatchAction('PLAY_SONG',{id:song.get('id')}));},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"song-content dim\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bucket_17[\"a\" /* Music20 */],{className:\"mr1\"}),song.get('songTitle')]})},song.get('id')),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"overflow-menu\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bucket_18[\"a\" /* OverflowMenuHorizontal20 */],{onClick:function onClick(){return setIsShowingUD(!isShowingUD);},className:\"dim\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UpdateAndDeleteButton,{state:state,dispatch:dispatch,songId:songId,isShowingUD:isShowingUD})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:\" \"});}function Songs(_ref11){var state=_ref11.state,dispatch=_ref11.dispatch,searchTerm=_ref11.searchTerm;var songs=state.get('songs',Object(immutable_es[\"a\" /* List */])());return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideNav_Section,{title:\"Playlist\",children:songs.filter(function(song){return song.get('songTitle').includes(searchTerm);}).map(function(song){var songId=song.get('id');return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Song,{state:state,dispatch:dispatch,song:song,songId:songId});})});}function RecordingButtons(_ref12){var state=_ref12.state,dispatch=_ref12.dispatch;var isRecording=state.get('isRecording');var openPopup=state.get('openPopup');var _React$useState5=react_default.a.useState(false),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),startRecording=_React$useState6[0],setStartRecording=_React$useState6[1];var _React$useState7=react_default.a.useState(false),_React$useState8=Object(slicedToArray[\"a\" /* default */])(_React$useState7,2),stopRecording=_React$useState8[0],setStopRecording=_React$useState8[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SideNav_Section,{title:\"Record a Song\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RecordingButton,{onClick:function onClick(){// notify redux and update state for whether the user is recording or not \ndispatch(new Reducer_DispatchAction('TRIGGER_RECORDING',{isRecording:isRecording}));// create some sort of condition here if isRecording is set to true\nif(!state.get('isRecording')){setStartRecording(true);// notify redux that a new song should be created\n// a song should simply hold a list of the notes clicked by the user \ndispatch(new Reducer_DispatchAction('RECORD_A_SONG',{song:[]}));}else{// stop recording a song and add song to db\nsetStartRecording(false);setStopRecording(true);setTimeout(function(){setStopRecording(false);},3000);// if a recording is stopped, then open the popup menu where the song title will be input\ndispatch(new Reducer_DispatchAction('TRIGGER_RECORDING_POPUP',{openPopup:openPopup}));}},isRecording:isRecording}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recording-button-message-wrapper\",children:[startRecording&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recording-button-message\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"blinking-record-icon\",children:\"  \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\" Your recording is live \"})]}),stopRecording&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\" Your recording has stopped \"})]})]});}function SideNav(_ref13){var state=_ref13.state,dispatch=_ref13.dispatch;var _React$useState9=react_default.a.useState(''),_React$useState10=Object(slicedToArray[\"a\" /* default */])(_React$useState9,2),searchTerm=_React$useState10[0],setSearchTerm=_React$useState10[1];var handleSearchChange=/*#__PURE__*/function(){var _ref14=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(e){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(e.target.value==='')){_context3.next=5;break;}_context3.next=3;return getSongs(dispatch);case 3:setSearchTerm('');return _context3.abrupt(\"return\");case 5:if(!searchTerm.includes(e.target.value)){_context3.next=8;break;}// if the new search value is already in search term, another API is not necessary\nsetSearchTerm(e.target.value);return _context3.abrupt(\"return\");case 8:_context3.next=10;return getSong(dispatch,e.target.value);case 10:setSearchTerm('');case 11:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSearchChange(_x2){return _ref14.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"absolute top-0 left-0 bottom-0 w5 z-1 shadow-1 bg-white flex flex-column\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"h3 fw7 f5 flex items-center pl3 bb b--light-gray\",children:\"Quadtuplets\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Instruments,{state:state,dispatch:dispatch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Visualizers,{state:state,dispatch:dispatch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Search,{handleSearchChange:handleSearchChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Songs,{state:state,dispatch:dispatch,searchTerm:searchTerm}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RecordingButtons,{state:state,dispatch:dispatch})]})]});}\n// EXTERNAL MODULE: ./node_modules/react-p5/build/index.js\nvar build = __webpack_require__(62);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// CONCATENATED MODULE: ./src/Visualizers.tsx\n// 3rd party library imports\n//import mandelbrot_set from './img/mandelbrot_set.png';\nvar Visualizers_Visualizer=function Visualizer(name,draw){Object(classCallCheck[\"a\" /* default */])(this,Visualizer);this.name=void 0;this.draw=void 0;this.name=name;this.draw=draw;};function VisualizerContainer(_ref){var visualizer=_ref.visualizer;var name=visualizer.name,_draw=visualizer.draw;var setCircumference=name===\"Circumference\"?true:false;var analyzer=Object(react[\"useMemo\"])(function(){return new esm[\"a\" /* Analyser */]('waveform',256);},[]);var onResize=Object(react[\"useCallback\"])(function(p5){var width=window.innerWidth;var height=window.innerHeight/2;p5.resizeCanvas(width,height,false);},[]);Object(react[\"useEffect\"])(function(){esm[\"g\" /* getDestination */]().volume.value=-5;esm[\"g\" /* getDestination */]().connect(analyzer);return function(){esm[\"g\" /* getDestination */]().disconnect(analyzer);};},[analyzer]);var setup=function setup(p5,canvasParentRef){var width=setCircumference?window.innerWidth/2:window.innerWidth;var height=setCircumference?window.innerHeight:window.innerHeight/2;p5.createCanvas(width,height).parent(canvasParentRef);p5.angleMode(p5.DEGREES);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:setCircumference?'bg-grey absolute right-0 h-100 w-50':'bg-black absolute bottom-0 right-0 left-0 h-50',children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'z-1 absolute left-0 top-0 pa4 white f5',children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(build_default.a,{setup:setup,draw:function draw(p5){return _draw(p5,analyzer);},windowResized:onResize,className:setCircumference?'circumference-visualizer':''})]});}\n// EXTERNAL MODULE: ./src/css/recording_popup.css\nvar recording_popup = __webpack_require__(109);\n\n// CONCATENATED MODULE: ./src/MainPage.tsx\n// 3rd party library imports\n// project imports\n/** ------------------------------------------------------------------------ **\n * Instrument and visualizer component\n ** ------------------------------------------------------------------------ */function InstrumentPanel(_ref){var state=_ref.state,dispatch=_ref.dispatch;/**\n   * This React component is the top-level for the instrument.\n   */var instrument=state.get('instrument');return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:instrument&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Instruments_InstrumentContainer,{state:state,dispatch:dispatch,instrument:instrument})});}function VisualizerPanel(_ref2){var state=_ref2.state;/**\n   * This React component is the top-level for the visualizer.\n   */var visualizer=state.get('visualizer');return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:visualizer&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VisualizerContainer,{visualizer:visualizer},visualizer.name)});}function InstrumentAndVisualizer(_ref3){var state=_ref3.state,dispatch=_ref3.dispatch;/**\n   * This React component bundles the instrument panel and visualizer panel together.\n   */return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"absolute right-0 bottom-0 top-0 flex flex-column\",style:{left:'16rem'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InstrumentPanel,{state:state,dispatch:dispatch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VisualizerPanel,{state:state,dispatch:dispatch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RecordingPopup,{state:state,dispatch:dispatch})]});}function RecordingPopup(_ref4){var state=_ref4.state,dispatch=_ref4.dispatch;/**\n   * This React component will be displayed after a song has been finished recording.\n   */var openPopup=state.get('openPopup');var closeModal=function closeModal(){return dispatch(new Reducer_DispatchAction('TRIGGER_RECORDING_POPUP',{openPopup:openPopup}));};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(reactjs_popup_esm[\"a\" /* default */],{open:openPopup,closeOnDocumentClick:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"close close-modal\",onClick:closeModal,children:\"\\xD7\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RecordingForm,{state:state,dispatch:dispatch})]})});}function RecordingForm(_ref5){var state=_ref5.state,dispatch=_ref5.dispatch;var _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),submitting=_React$useState2[0],setSubmitting=_React$useState2[1];var _React$useState3=react_default.a.useState(false),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),submitted=_React$useState4[0],setSubmitted=_React$useState4[1];var _React$useState5=react_default.a.useState(''),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),input=_React$useState6[0],setInput=_React$useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setSubmitting(true);// submit value entered into form input to state to finalize creation of song \n_context.next=4;return addSong(dispatch,input,state.get('song'));case 4:setTimeout(function(){setSubmitting(false);setSubmitted(true);setTimeout(function(){setSubmitted(false);setInput('');},3000);},3000);case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref6.apply(this,arguments);};}();var handleInputChange=function handleInputChange(e){return setInput(e.target.value);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"recording-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"fieldset\",{className:\"form-fieldset\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"form-fieldset-label\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\" You're almost done! \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\" As a last step, enter a title for your song recording. \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:input,onChange:handleInputChange,placeholder:\"Enter a song title\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"form-button\",type:\"submit\",children:\" Submit \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-submission-message\",children:[submitting&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\" Submitting form... \"}),submitted&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\" Your song has been submitted! \"})]})]});}function ShowWelcome(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"absolute right-0 bottom-0 top-0 flex flex-column items-center justify-center\",style:{left:'16rem'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mw6 lh-copy mb4\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bucket_17[\"b\" /* Music32 */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"f3 fw7 mb2\",children:\"Welcome to the case study.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"f4 mb3\",children:\"Select an instrument and a visualizer on the left to serve some fresh beats.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"f5\",children:\"The UI is yours to design. Express yourself.\"})]})});}/** ------------------------------------------------------------------------ **\n * Main page component\n ** ------------------------------------------------------------------------ */function MainPage(_ref7){var state=_ref7.state,dispatch=_ref7.dispatch;/**\n   * This React component bundles together the entire main page.\n   */var location=Object(react_router[\"f\" /* useLocation */])();var isWelcome=!state.get('instrument');console.log('INSTRUMENT',isWelcome);Object(react[\"useEffect\"])(function(){dispatch(new Reducer_DispatchAction('SET_LOCATION',{location:location}));},[dispatch,location]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"fixed top-0 left-0 h-100 w-100 bg-white\",onClick:function onClick(){return esm[\"h\" /* start */]();},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SideNav,{state:state,dispatch:dispatch}),isWelcome?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ShowWelcome,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InstrumentAndVisualizer,{state:state,dispatch:dispatch})]});}\n// CONCATENATED MODULE: ./src/instruments/Piano.tsx\n// 3rd party library imports\n// project imports\nfunction PianoKey(_ref){var note=_ref.note,synth=_ref.synth,minor=_ref.minor,index=_ref.index,state=_ref.state,dispatch=_ref.dispatch;/**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */return/*#__PURE__*/ (// Observations:\n// 1. The JSX refers to the HTML-looking syntax within TypeScript.\n// 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n// 3. The curly braces `{` and `}` should remind you of string interpolation.\nObject(jsx_runtime[\"jsx\"])(\"div\",{onMouseDown:function onMouseDown(){synth===null||synth===void 0?void 0:synth.triggerAttack(\"\".concat(note));// only add the note into a new song if recording button has been clicked\nif(state.get('isRecording')){dispatch(new Reducer_DispatchAction('ADD_NOTE_TO_SONG',{note:note}));}}// Question: what is `onMouseDown`?\n,onMouseUp:function onMouseUp(){return synth===null||synth===void 0?void 0:synth.triggerRelease('+0.25');}// Question: what is `onMouseUp`?\n,className:classnames_default()('ba pointer absolute dim',{'bg-black black h3':minor,// minor keys are black\n'black bg-white h4':!minor// major keys are white\n}),style:{// CSS\ntop:0,left:\"\".concat(index*2,\"rem\"),zIndex:minor?1:0,width:minor?'1.5rem':'2rem',marginLeft:minor?'0.25rem':0}}));}// eslint-disable-next-line\nfunction PianoKeyWithoutJSX(_ref2){var note=_ref2.note,synth=_ref2.synth,minor=_ref2.minor,index=_ref2.index;/**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */return/*#__PURE__*/react_default.a.createElement('div',{onMouseDown:function onMouseDown(){return synth===null||synth===void 0?void 0:synth.triggerAttack(\"\".concat(note));},onMouseUp:function onMouseUp(){return synth===null||synth===void 0?void 0:synth.triggerRelease('+0.25');},className:classnames_default()('ba pointer absolute dim',{'bg-black black h3':minor,'black bg-white h4':!minor}),style:{top:0,left:\"\".concat(index*2,\"rem\"),zIndex:minor?1:0,width:minor?'1.5rem':'2rem',marginLeft:minor?'0.25rem':0}},[]);}function PianoType(_ref3){var title=_ref3.title,onClick=_ref3.onClick,active=_ref3.active;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{onClick:onClick,className:classnames_default()('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1',{'b--black black':active,'gray b--light-gray':!active}),children:title});}function Piano(_ref4){var state=_ref4.state,dispatch=_ref4.dispatch,synth=_ref4.synth,setSynth=_ref4.setSynth;var keys=Object(immutable_es[\"a\" /* List */])([{note:'C',idx:0},{note:'Db',idx:0.5},{note:'D',idx:1},{note:'Eb',idx:1.5},{note:'E',idx:2},{note:'F',idx:3},{note:'Gb',idx:3.5},{note:'G',idx:4},{note:'Ab',idx:4.5},{note:'A',idx:5},{note:'Bb',idx:5.5},{note:'B',idx:6}]);var setOscillator=function setOscillator(newType){setSynth(function(oldSynth){oldSynth.disconnect();return new esm[\"e\" /* Synth */]({oscillator:{type:newType}}).toDestination();});};var oscillators=Object(immutable_es[\"a\" /* List */])(['sine','sawtooth','square','triangle','fmsine','fmsawtooth','fmtriangle','amsine','amsawtooth','amtriangle']);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"pv4\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"relative dib h4 w-100 ml4\",children:Object(immutable_es[\"c\" /* Range */])(2,7).map(function(octave){return keys.map(function(key){var isMinor=key.note.indexOf('b')!==-1;var note=\"\".concat(key.note).concat(octave);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PianoKey,{//react key\nnote:note,synth:synth,minor:isMinor,octave:octave,index:(octave-2)*7+key.idx,state:state,dispatch:dispatch},note);});})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'pl4 pt4 flex',children:oscillators.map(function(o){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PianoType,{title:o,onClick:function onClick(){return setOscillator(o);},active:(synth===null||synth===void 0?void 0:synth.oscillator.type)===o},o);})})]});}var PianoInstrument=new Instruments_Instrument('Piano',Piano);\n// EXTERNAL MODULE: ./src/css/ukulele.css\nvar ukulele = __webpack_require__(110);\n\n// CONCATENATED MODULE: ./src/instruments/mitchthebaker.tsx\n// 3rd party library imports\n// project imports\nfunction UkuleleFret(_ref){var note=_ref.note,synth=_ref.synth,index=_ref.index,state=_ref.state,dispatch=_ref.dispatch;/**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */return/*#__PURE__*/ (// Observations:\n// 1. The JSX refers to the HTML-looking syntax within TypeScript.\n// 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n// 3. The curly braces `{` and `}` should remind you of string interpolation.\nObject(jsx_runtime[\"jsx\"])(\"div\",{className:\"ukulele-fret\",onMouseDown:function onMouseDown(){console.log(note);synth===null||synth===void 0?void 0:synth.triggerAttack(\"\".concat(note));// only add the note into a new song if recording button has been clicked\nif(state.get('isRecording')){dispatch(new Reducer_DispatchAction('ADD_NOTE_TO_SONG',{note:note}));}},onMouseUp:function onMouseUp(){return synth===null||synth===void 0?void 0:synth.triggerRelease('+0.25');}}));}function Ukulele(_ref2){var state=_ref2.state,dispatch=_ref2.dispatch,synth=_ref2.synth,setSynth=_ref2.setSynth;var standard_tuning_1frets=Object(immutable_es[\"a\" /* List */])([// strings \n[{note:'G',octave:4,idx:49},{note:'C',octave:4,idx:50},{note:'E',octave:4,idx:51},{note:'A',octave:4,idx:52}],// 1 - 4th frets\n[{note:'Ab',octave:5,idx:0},{note:'Db',octave:5,idx:1},{note:'F',octave:5,idx:2},{note:'Bb',octave:5,idx:3}],[{note:'A',octave:5,idx:4},{note:'D',octave:5,idx:5},{note:'Gb',octave:5,idx:6},{note:'B',octave:5,idx:7}],[{note:'Bb',octave:5,idx:8},{note:'Eb',octave:5,idx:9},{note:'G',octave:5,idx:10},{note:'C',octave:6,idx:11}],[{note:'B',octave:5,idx:12},{note:'E',octave:5,idx:13},{note:'Ab',octave:5,idx:14},{note:'Db',octave:6,idx:15}],// 5th fret\n[{note:'C',octave:6,idx:16},{note:'F',octave:5,idx:17},{note:'A',octave:5,idx:18},{note:'D',octave:6,idx:19}],[{note:'Db',octave:6,idx:20},{note:'Gb',octave:5,idx:21},{note:'Bb',octave:5,idx:22},{note:'Eb',octave:6,idx:23}],// 7th fret\n[{note:'D',octave:6,idx:24},{note:'G',octave:5,idx:25},{note:'B',octave:5,idx:26},{note:'E',octave:6,idx:27}],[{note:'Eb',octave:6,idx:28},{note:'Ab',octave:5,idx:29},{note:'C',octave:6,idx:30},{note:'F',octave:6,idx:31}],[{note:'E',octave:6,idx:32},{note:'A',octave:5,idx:33},{note:'Db',octave:6,idx:34},{note:'Gb',octave:6,idx:35}],// 10th fret\n[{note:'F',octave:6,idx:36},{note:'Bb',octave:5,idx:37},{note:'D',octave:6,idx:38},{note:'G',octave:6,idx:39}],[{note:'Gb',octave:6,idx:40},{note:'B',octave:5,idx:42},{note:'Eb',octave:6,idx:43},{note:'Ab',octave:6,idx:44}],[{note:'G',octave:6,idx:45},{note:'C',octave:6,idx:46},{note:'E',octave:6,idx:47},{note:'A',octave:6,idx:48}]]);/*const standard_tuning_2frets = List([\n    [{ note: 'Eb', octave: 3, idx: 0 }, { note: 'Ab', octave: 3, idx: 1 }, { note: 'C', octave: 3, idx: 2 }, { note: 'F', octave: 3, idx: 3 }],\n    [{ note: 'E', octave: 5, idx: 4 }, { note: 'A', octave: 5, idx: 5 }, { note: 'Db', octave: 5, idx: 6 }, { note: 'Gb', octave: 5, idx: 7 }],\n    [{ note: 'F', octave: 5, idx: 8 }, { note: 'Bb', octave: 5, idx: 9 }, { note: 'D', octave: 5, idx: 10 }, { note: 'G', octave: 5, idx: 11 }],\n    [{ note: 'Gb', octave: 5, idx: 12}, { note: 'B', octave: 5, idx: 13}, { note: 'Eb', octave: 5, idx: 14}, { note: 'Ab', octave: 5, idx: 15}],\n    [{ note: 'G', octave: 5, idx: 16}, { note: 'C', octave: 5, idx: 17}, { note: 'E', octave: 5, idx: 18}, { note: 'A', octave: 5, idx: 19}],\n    [{ note: 'Ab', octave: 5, idx: 20}, { note: 'Db', octave: 5, idx: 21}, { note: 'F', octave: 5, idx: 22}, { note: 'Bb', octave: 5, idx: 23}],\n    [{ note: 'A', octave: 5, idx: 24}, { note: 'D', octave: 5, idx: 25}, { note: 'Gb', octave: 5, idx: 26}, { note: 'B', octave: 5, idx: 27}],\n    [{ note: 'Bb', octave: 5, idx: 28}, { note: 'Eb', octave: 5, idx: 29}, { note: 'G', octave: 5, idx: 30}, { note: 'C', octave: 5, idx: 31}],\n    [{ note: 'B', octave: 5, idx: 32}, { note: 'E', octave: 5, idx: 33}, { note: 'Ab', octave: 5, idx: 34}, { note: 'Db', octave: 5, idx: 35}],\n    [{ note: 'C', octave: 5, idx: 36}, { note: 'F', octave: 5, idx: 37}, { note: 'A', octave: 5, idx: 38}, { note: 'D', octave: 5, idx: 39}],\n    [{ note: 'Db', octave: 5, idx: 40}, { note: 'Gb', octave: 5, idx: 42}, { note: 'Bb', octave: 5, idx: 43}, { note: 'Eb', octave: 5, idx: 44}],\n    [{ note: 'D', octave: 5, idx: 45}, { note: 'G', octave: 5, idx: 46}, { note: 'B', octave: 5, idx: 47}, { note: 'E', octave: 5, idx: 48}]\n  ]);*/ /*const setOscillator = (newType: Tone.ToneOscillatorType) => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n\n      return new Tone.Synth({\n        oscillator: { type: newType } as Tone.OmniOscillatorOptions,\n      }).toDestination();\n    });\n  };*/return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"pv4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"relative dib h4 w-50\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ukulele\",children:standard_tuning_1frets.map(function(fret,idx){var marker=idx===5||idx===7||idx===10?true:false;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:idx===0?\"fret-strings\":\"fret\",children:[marker&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"fret-marker\"}),fret.map(function(aFret){var note=\"\".concat(aFret.note).concat(aFret.octave);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UkuleleFret,{note:note,synth:synth,index:idx,state:state,dispatch:dispatch});})]});})})})});}var mitchthebakerInstrument=new Instruments_Instrument('mitchthebaker',Ukulele);\n// CONCATENATED MODULE: ./src/instruments/kennethchuson2.tsx\n// 3rd party library imports\n// project imports\nvar Polysynth=new esm[\"d\" /* PolySynth */]().toDestination();Polysynth.set({detune:-1200});function kennethchuson2_PianoKey(_ref){var note=_ref.note,identity=_ref.identity,state=_ref.state,dispatch=_ref.dispatch;/**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */return/*#__PURE__*/ (// Observations:\n// 1. The JSX refers to the HTML-looking syntax within TypeScript.\n// 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n// 3. The curly braces `{` and `}` should remind you of string interpolation.\n// <div\n//   onMouseDown={() => synth?.triggerAttack(`${note}`)} // Question: what is `onMouseDown`?\n//   onMouseUp={() => synth?.triggerRelease('+0.25')} // Question: what is `onMouseUp`?\n//   className={classNames('ba pointer absolute dim', {\n//     'bg-black black h3': minor, // minor keys are black\n//     'black bg-white h4': !minor, // major keys are white\n//   })}\n//   style={{\n//     // CSS\n//     top: 0,\n//     left: `${index * 2}rem`,\n//     zIndex: minor ? 1 : 0,\n//     width: minor ? '1.5rem' : '2rem',\n//     marginLeft: minor ? '0.25rem' : 0,\n//   }}\n// ></div>\nObject(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onMouseDown:function onMouseDown(){Polysynth===null||Polysynth===void 0?void 0:Polysynth.triggerAttack(\"\".concat(note));// only add the note into a new song if recording button has been clicked\nif(state.get('isRecording')){dispatch(new Reducer_DispatchAction('ADD_NOTE_TO_SONG',{note:note}));}},onMouseUp:function onMouseUp(){return Polysynth===null||Polysynth===void 0?void 0:Polysynth.triggerRelease(\"\".concat(note),'+0.19');},style:{// CSS\n// top: 0,\n// left: `${index * 2}rem`,\n// zIndex: minor ? 1 : 0,\n// width: minor ? '1.5rem' : '2rem',\n// marginLeft: minor ? '0.25rem' : 0,\n},children:identity})}));}// eslint-disable-next-line\nfunction kennethchuson2_PianoKeyWithoutJSX(_ref2){var note=_ref2.note,synth=_ref2.synth,minor=_ref2.minor,index=_ref2.index;/**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */return/*#__PURE__*/react_default.a.createElement('div',{onMouseDown:function onMouseDown(){return synth===null||synth===void 0?void 0:synth.triggerAttack(\"\".concat(note));},onMouseUp:function onMouseUp(){return synth===null||synth===void 0?void 0:synth.triggerRelease('+0.25');},className:classnames_default()('ba pointer absolute dim',{'bg-black black h3':minor,'black bg-white h4':!minor}),style:{top:0,left:\"\".concat(index*2,\"rem\"),zIndex:minor?1:0,width:minor?'1.5rem':'2rem',marginLeft:minor?'0.25rem':0}},[]);}/*function PianoType({ title, onClick, active }: any): JSX.Element {\n  return (\n    <div\n      onClick={onClick}\n      className={classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n        'b--black black': active,\n        'gray b--light-gray': !active,\n      })}\n    >\n      {title}\n    </div>\n  );\n}*/function Kalimba(_ref3){var state=_ref3.state,dispatch=_ref3.dispatch,synth=_ref3.synth;var keys=Object(immutable_es[\"a\" /* List */])([{note:\"G5\",idx:0},{note:\"F5\",idx:0.5},{note:\"E5\",idx:1},{note:\"D5\",idx:1.5},{note:\"B4\",idx:2},{note:\"C5\",idx:0},{note:\"D5\",idx:0.5},{note:\"E5\",idx:1},{note:\"F5\",idx:1.5}// { note: 'E', idx: 2 },\n// { note: 'F', idx: 3 },\n// { note: 'Gb', idx: 3.5 },\n// { note: 'G', idx: 4 },\n// { note: 'Ab', idx: 4.5 },\n// { note: 'A', idx: 5 },\n// { note: 'Bb', idx: 5.5 },\n// { note: 'B', idx: 6 },\n]);// const setOscillator = (newType: Tone.ToneOscillatorType) => {\n//   setSynth(oldSynth => {\n//     oldSynth.disconnect();\n//     return new Tone.Synth({\n//       //oscillator: { type: newType } as Tone.OmniOscillatorOptions,\n//     }).toDestination();\n//   });\n// };\n/*const oscillators: List<OscillatorType> = List([\n    'sine',\n    'sawtooth',\n    'square',\n    'triangle',\n    'fmsine',\n    'fmsawtooth',\n    'fmtriangle',\n    'amsine',\n    'amsawtooth',\n    'amtriangle',\n  ]) as List<OscillatorType>;*/return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"pv5\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'pl4 pt4 flex'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Kalimba_main\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{backgroundImage:'url(\"https://cdn-icons-png.flaticon.com/512/3100/3100511.png\")',backgroundRepeat:'no-repeat',right:'50px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:'500px',width:'320px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"keys\",style:{margin:'auto',width:'60%',padding:'30px',display:\"flex\"},children:Object(immutable_es[\"c\" /* Range */])(1,2).map(function(octave){return keys.map(function(key){var note=\"\".concat(key.note);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(kennethchuson2_PianoKey,{//react key\nnote:note,synth:synth,octave:octave,identity:key.note,index:(octave-2)*7+key.idx,state:state,dispatch:dispatch},note);});})})})})})]});}var KalimbaInstrument=new Instruments_Instrument('kennethchuson2',Kalimba);\n// CONCATENATED MODULE: ./src/instruments/schrodobaggins.tsx\n// 3rd party library imports\n// project imports\nvar Monosynth=new esm[\"b\" /* MonoSynth */]().toDestination();function FluteKey(_ref){var note=_ref.note,minor=_ref.minor,index=_ref.index,state=_ref.state,dispatch=_ref.dispatch;/**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */return/*#__PURE__*/ (// Observations:\n// 1. The JSX refers to the HTML-looking syntax within TypeScript.\n// 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n// 3. The curly braces `{` and `}` should remind you of string interpolation.\nObject(jsx_runtime[\"jsx\"])(\"div\",{onMouseDown:function onMouseDown(){Monosynth===null||Monosynth===void 0?void 0:Monosynth.triggerAttack(\"\".concat(note));// only add the note into a new song if recording button has been clicked\nif(state.get('isRecording')){dispatch(new Reducer_DispatchAction('ADD_NOTE_TO_SONG',{note:note}));}}// Question: what is `onMouseDown`?\n,onMouseUp:function onMouseUp(){return Monosynth===null||Monosynth===void 0?void 0:Monosynth.triggerRelease('+0.32');}// Question: what is `onMouseUp`?\n,className:classnames_default()('ba pointer absolute dim',{'black bg-white h4':!minor// major keys are white\n}),style:{// CSS\ntop:6,left:\"\".concat(index*5,\"rem\"),zIndex:minor?4:2,width:minor?'2rem':'5rem',height:minor?'2rem':'5rem',borderRadius:88/2,marginLeft:minor?'0.25rem':25}}));}function Flute(_ref2){var state=_ref2.state,dispatch=_ref2.dispatch,synth=_ref2.synth;var flute=Object(immutable_es[\"a\" /* List */])([[{note:'Ab',octave:6,idx:9},{note:'Db',octave:6,idx:1},{note:'F',octave:6,idx:2},{note:'Bb',octave:4,idx:3}],[{note:'A',octave:4,idx:4},{note:'D',octave:4,idx:5},{note:'Gb',octave:6,idx:6},{note:'B',octave:6,idx:7}],[{note:'Bb',octave:6,idx:8},{note:'Eb',octave:6,idx:9}// { note: 'G', octave: 4, idx: 10 }, \n// { note: 'C', octave: 4, idx: 11 }\n]]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"pv4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"relative dib h4 w-50\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flute\",children:[flute.map(function(blow){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"blow\",children:blow.map(function(blow){var note=\"\".concat(blow.note).concat(blow.octave);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FluteKey,{note:note,synth:synth,index:blow.idx,state:state,dispatch:dispatch});})});}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a8/Pan_flute.svg/868px-Pan_flute.svg.png\",alt:\"Pan\",style:{margin:\"10px\",width:\"650px\",borderRadius:\"30px\",objectFit:\"scale-down\",marginBottom:\"15px\",alignSelf:'center'}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:'pl4 pt4 flex'})]})});}var FluteInstrument=new Instruments_Instrument('schrodobaggins',Flute);\n// CONCATENATED MODULE: ./src/visualizers/Waveform.tsx\n// 3rd party library imports\n// project imports\nvar WaveformVisualizer=new Visualizers_Visualizer('Waveform',function(p5,analyzer){var width=window.innerWidth;var height=window.innerHeight/2;var dim=Math.min(width,height);p5.background(0,0,0,255);p5.strokeWeight(dim*0.01);p5.stroke(255,255,255,255);p5.noFill();var values=analyzer.getValue();p5.beginShape();for(var i=0;i<values.length;i++){var amplitude=values[i];var x=p5.map(i,0,values.length-1,0,width);var y=height/2+amplitude*height;// Place vertexi\np5.vertex(x,y);}p5.endShape();});\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/visualizers/mitchthebaker.tsx\n// 3rd party library imports\n// project imports\nvar particles=[];var mitchthebaker_Particle=/*#__PURE__*/function(){function Particle(p5){Object(classCallCheck[\"a\" /* default */])(this,Particle);this.position=void 0;this.velocity=void 0;this.acc=void 0;this.w=void 0;this.color=void 0;this.position=Object.getPrototypeOf(p5).constructor.Vector.random2D().mult(250);this.velocity=p5.createVector(0,0);this.acc=this.position.copy().mult(p5.random(0.001,0.0001));this.w=p5.random(3,5);this.color=[p5.random(200,255),p5.random(200,255),p5.random(200,255)];}Object(createClass[\"a\" /* default */])(Particle,[{key:\"update\",value:function update(){this.velocity.add(this.acc);this.position.add(this.velocity);}},{key:\"edges\",value:function edges(width,height){if(this.position.x<-width/2||this.position.x>width/2||this.position.y<-height/2||this.position.y>height/2){return true;}else{return false;}}},{key:\"show\",value:function show(p5){p5.noStroke();p5.fill(this.color);p5.ellipse(this.position.x,this.position.y,this.w);}}]);return Particle;}();var mitchthebakerVisualizer=new Visualizers_Visualizer('mitchthebaker',function(p5,analyzer){var width=window.innerWidth/2;var height=window.innerHeight;p5.background(0);p5.stroke(255);p5.strokeWeight(3);p5.noFill();p5.translate(width/2,height/2);var wave=analyzer.getValue();for(var t=-1;t<=1;t+=2){p5.beginShape();// Use 180 since this is equal to the radius of a circle\nfor(var i=0;i<=180;i+=0.5){var index=Math.floor(p5.map(i,0,180,0,wave.length-1));//console.log(values[index]);\nvar r=p5.map(Number(wave[index]),-1,1,150,350);var x=r*p5.sin(i)*t;var y=r*p5.cos(i);p5.vertex(x,y);}p5.endShape();}var p=new mitchthebaker_Particle(p5);particles.push(p);for(var _i=particles.length-1;_i>=0;_i--){if(!particles[_i].edges(width,height)){particles[_i].update();particles[_i].show(p5);}else{particles.splice(_i,1);}}});\n// CONCATENATED MODULE: ./src/visualizers/kennethchuson2.tsx\n// 3rd party library imports\n// project imports\nvar KennethVisualizer=new Visualizers_Visualizer('kennethchuson2',function(p5,analyzer){var width=window.innerWidth;var height=window.innerHeight/2;var dim=Math.min(width,height);var arr_colors=['rgb(0,255,0)','rgb(195,4,4)','rgb(42,13,191)','rgba(0,234,242)'];p5.background('#4F1B77');p5.strokeWeight(dim*0.03);//p5.stroke(255, 204, 100);\n//p5.noFill();\nfor(var i=arr_colors.length-1;i>0;i--){var random=Math.floor(Math.random()*(i+1));var temp=arr_colors[i];arr_colors[i]=arr_colors[random];arr_colors[random]=temp;p5.stroke(arr_colors[i]);}var values=analyzer.getValue();p5.translate(width/2,height/2);p5.beginShape();for(var _i=0;_i<values.length;_i++){var r=values[_i];var x=r*Math.cos(_i)*width/1.150;var y=r*Math.sin(_i)*height/1.150;// Place vertex\np5.point(x,y);}p5.endShape();});\n// CONCATENATED MODULE: ./src/visualizers/MichaelWaveform.tsx\n// 3rd party library imports\n// project imports\nvar mapMax=1.0;//var amplitude;\nvar MichaelWaveformVisualizer=new Visualizers_Visualizer('Schrodobaggins',function(p5,analyzer){var width=window.innerWidth;var height=window.innerHeight/2;//amplitude = new p5.Amplitude();\np5.background(0);p5.fill(255);p5.noStroke();//p5.Amplitude();\nvar values=analyzer.getValue();p5.text('Amplitude: '+values,30,65);p5.text('mapMax: '+mapMax,30,80);p5.beginShape();for(var i=0;i<values.length;i++){var amplitude=values[i];//var level = amplitude.getLevel();\n// map ellipse height\nvar ellipseHeight=p5.map(amplitude*1.25,0.50,values.length/50,height,width);p5.ellipse(width/2,ellipseHeight,50,50);}p5.endShape();});\n// CONCATENATED MODULE: ./src/State.tsx\n// 3rd party\n// project dependencies\n//import { Kalimba } from './instruments/Kalimba'\n/** ------------------------------------------------------------------------ **\n * The entire application state is stored in AppState.\n ** ------------------------------------------------------------------------ */ /**\n * Observation: pure map (compare and contrast with impure map)\n *\n * 'instrument': Instrument\n * 'visualizer': Visualizer\n */var State_instruments=Object(immutable_es[\"a\" /* List */])([PianoInstrument,mitchthebakerInstrument,KalimbaInstrument,FluteInstrument]);var State_visualizers=Object(immutable_es[\"a\" /* List */])([WaveformVisualizer,mitchthebakerVisualizer,KennethVisualizer,MichaelWaveformVisualizer]);var defaultState=Object(immutable_es[\"b\" /* Map */])({instruments:State_instruments,visualizers:State_visualizers,isRecording:false,openPopup:false,songTitle:''});\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/esm/index.js + 13 modules\nvar build_esm = __webpack_require__(66);\n\n// CONCATENATED MODULE: ./src/Socket.tsx\nvar _excluded=[\"error\"];var SOCKET_URL='ws://localhost:3001';var SOCKET_OPTS={transports:['websocket'],path:'/ws',autoConnect:true,reconnection:true,timeout:10000};var idCounter=1;function send(_x,_x2,_x3){return _send.apply(this,arguments);}function _send(){_send=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(socket,name,msg){var _id;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_id=idCounter++;return _context.abrupt(\"return\",new Promise(function(resolve,reject){socket.once(\"\".concat(name,\".\").concat(_id),function(resp){var error=resp.error,success=Object(objectWithoutProperties[\"a\" /* default */])(resp,_excluded);if(success){resolve(success);}else{reject(error);}});socket.emit(name,Object(objectSpread2[\"a\" /* default */])({_id:_id},msg));}));case 2:case\"end\":return _context.stop();}}},_callee);}));return _send.apply(this,arguments);}function initializeSocket(onConnect,onDisconnect){var socket=Object(build_esm[\"a\" /* io */])(SOCKET_URL,SOCKET_OPTS);socket.on('connect',function(){return onConnect(socket);});socket.on('disconnect',onDisconnect);return socket;}\n// EXTERNAL MODULE: ./node_modules/animate.css/animate.css\nvar animate = __webpack_require__(115);\n\n// CONCATENATED MODULE: ./src/App.tsx\n// 3rd party library imports\n// project imports\n// css imports\n/** ------------------------------------------------------------------------ **\n * App component\n ** ------------------------------------------------------------------------ */function App(){var _useReducer=Object(react[\"useReducer\"])(appReducer,defaultState),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];Object(react[\"useEffect\"])(function(){initializeSocket(/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(socket){var _yield$send,songs;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(new Reducer_DispatchAction('SET_SOCKET',{socket:socket}));_context.next=3;return send(socket,'get_songs',{});case 3:_yield$send=_context.sent;songs=_yield$send.songs;dispatch(new Reducer_DispatchAction('SET_SONGS',{songs:songs}));case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),function(){dispatch(new Reducer_DispatchAction('DELETE_SOCKET'));});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainPage,{state:state,dispatch:dispatch})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/:instrument\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainPage,{state:state,dispatch:dispatch})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"*\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"404\"})})]})});}/* harmony default export */ var src_App = (App);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(116);\n\n// EXTERNAL MODULE: ./src/tachyons.css\nvar tachyons = __webpack_require__(117);\n\n// CONCATENATED MODULE: ./src/index.tsx\n// 3rd party library imports\n// project imports\n// CSS\n/** ------------------------------------------------------------------------ **\n * Entry point.\n ** ------------------------------------------------------------------------ */function onReactLoaded(){console.log('React has loaded.');}var rootEl=document.getElementById('root');react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),rootEl,// Insert into DOM here\nonReactLoaded);\n\n/***/ }),\n\n/***/ 82:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 83:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[118,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/postcss-loader/src/index.js??postcss!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/css/recording_popup.css","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/postcss-loader/src/index.js??postcss!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/css/ukulele.css","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/postcss-loader/src/index.js??postcss!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/index.css","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/postcss-loader/src/index.js??postcss!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/tachyons.css","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/Reducer.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/Instruments.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/utils/apiCreators.ts","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/SideNav.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/Visualizers.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/MainPage.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/instruments/Piano.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/instruments/mitchthebaker.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/instruments/kennethchuson2.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/instruments/schrodobaggins.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/visualizers/Waveform.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/visualizers/mitchthebaker.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/visualizers/kennethchuson2.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/visualizers/MichaelWaveform.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/State.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/Socket.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/App.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/index.tsx","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/postcss-loader/src/index.js??postcss!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/css/ud-menu.css","/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/node_modules/postcss-loader/src/index.js??postcss!/Users/michaelschroeder/Documents/GitHub/final-project-symphony-quadtuplets/client/src/css/recording_button.css"],"names":["DispatchAction","type","args","fromJS","appReducer","state","action","console","debug","newState","oldSocket","get","close","set","delete","songs","log","notes","find","s","pathname","getIn","search","instrumentName","substring","visualizerName","URLSearchParams","instruments","visualizers","instrument","i","name","visualizer","v","isRecording","openPopup","song","note","songCopy","error","toJS","update","Instrument","component","TopNav","InstrumentContainer","dispatch","InstrumentComponent","useState","Tone","oscillator","toDestination","synth","setSynth","useEffect","eachNote","split","noteObjs","map","idx","time","velocity","value","triggerAttackRelease","length","start","cancel","top","getSongs","axios","headers","res","status","data","getSong","songTitle","updateSong","newTitle","songId","put","params","addSong","body","song_title","post","deleteSong","Section","title","children","RadioButton","to","text","active","onClick","classNames","fw7","RecordingButton","UpdateAndDeleteButton","isShowingUD","React","setNewTitle","handleSubmit","e","preventDefault","handleDelete","handleTitleChange","target","Instruments","activeInstrument","location","useLocation","Visualizers","activeVisualizer","Search","handleSearchChange","Song","setIsShowingUD","undefined","id","Songs","searchTerm","List","filter","includes","RecordingButtons","startRecording","setStartRecording","stopRecording","setStopRecording","setTimeout","SideNav","setSearchTerm","Visualizer","draw","VisualizerContainer","setCircumference","analyzer","useMemo","onResize","useCallback","p5","width","window","innerWidth","height","innerHeight","resizeCanvas","volume","connect","disconnect","setup","canvasParentRef","createCanvas","parent","angleMode","DEGREES","InstrumentPanel","VisualizerPanel","InstrumentAndVisualizer","left","RecordingPopup","closeModal","RecordingForm","submitting","setSubmitting","submitted","setSubmitted","input","setInput","handleInputChange","ShowWelcome","MainPage","isWelcome","PianoKey","minor","index","triggerAttack","triggerRelease","zIndex","marginLeft","PianoKeyWithoutJSX","createElement","onMouseDown","onMouseUp","className","style","PianoType","Piano","keys","setOscillator","newType","oldSynth","oscillators","Range","octave","key","isMinor","indexOf","o","PianoInstrument","UkuleleFret","Ukulele","standard_tuning_1frets","fret","marker","aFret","mitchthebakerInstrument","Polysynth","detune","identity","Kalimba","backgroundImage","backgroundRepeat","right","margin","padding","display","KalimbaInstrument","Monosynth","FluteKey","borderRadius","Flute","flute","blow","objectFit","marginBottom","alignSelf","FluteInstrument","WaveformVisualizer","dim","Math","min","background","strokeWeight","stroke","noFill","values","getValue","beginShape","amplitude","x","y","vertex","endShape","particles","Particle","position","acc","w","color","Object","getPrototypeOf","constructor","Vector","random2D","mult","createVector","copy","random","add","noStroke","fill","ellipse","mitchthebakerVisualizer","translate","wave","t","floor","r","Number","sin","cos","p","push","edges","show","splice","KennethVisualizer","arr_colors","temp","point","mapMax","MichaelWaveformVisualizer","ellipseHeight","defaultState","Map","SOCKET_URL","SOCKET_OPTS","transports","path","autoConnect","reconnection","timeout","idCounter","send","socket","msg","_id","Promise","resolve","reject","once","resp","success","emit","initializeSocket","onConnect","onDisconnect","newSocket","on","App","useReducer","onReactLoaded","rootEl","document","getElementById","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// 3rd party\nimport { List, Map, fromJS } from 'immutable';\n\n// project deps\nimport { Instrument } from './Instruments';\nimport { Visualizer } from './Visualizers';\nimport { AppState } from './State';\n\n/** ------------------------------------------------------------------------ **\n * All user input is handled by DispatchAction.\n ** ------------------------------------------------------------------------ */\n\n/**\n * Observation: pure map (compare and contrast with impure map)\n *\n * 'instrument': Instrument\n * 'visualizer': Visualizer\n * 'songs': List<string>\n * 'notes': List<{id: number, songTitle: string, notes: string}>\n */\ntype DispatchArgs = {\n  [key: string]: any;\n};\n\n// A simple algebraic data-type with string literal types\ntype DispatchActionType =\n  | 'SET_SOCKET'\n  | 'DELETE_SOCKET'\n  | 'SET_SONGS'\n  | 'PLAY_SONG'\n  | 'STOP_SONG'\n  | 'SET_LOCATION'\n  | 'TRIGGER_RECORDING'\n  | 'GET_RECORDING_STATUS'\n  | 'RECORD_A_SONG'\n  | 'TRIGGER_RECORDING_POPUP'\n  | 'ADD_NOTE_TO_SONG';\n\nexport class DispatchAction {\n  readonly type: DispatchActionType;\n  readonly args: Map<string, any>;\n\n  constructor(type: DispatchActionType, args?: DispatchArgs) {\n    this.type = type;\n    this.args = fromJS(args) as Map<string, any>;\n  }\n}\n\n/** ------------------------------------------------------------------------ **\n * Top-level application reducer.\n ** ------------------------------------------------------------------------ */\n\nexport function appReducer(state: AppState, action: DispatchAction): AppState {\n  const { type, args } = action;\n\n  console.debug(`${type}`);\n\n  // Question: Does this function remind of you registering callbacks?\n  const newState = (() => {\n    switch (type) {\n      case 'SET_SOCKET': {\n        const oldSocket = state.get('socket');\n        if (oldSocket) {\n          oldSocket.close();\n        }\n\n        return state.set('socket', args.get('socket'));\n      }\n      \n      case 'DELETE_SOCKET': {\n        return state.delete('socket');\n      }\n      \n      case 'SET_SONGS': {\n        const songs = args.get('songs');\n        console.log(songs);\n        return state.set('songs', songs);\n      }\n      \n      case 'PLAY_SONG': {\n        const notes = state\n          .get('songs')\n          .find((s: any) => s.get('id') === args.get('id'))\n          .get('notes');\n        return state.set('notes', notes);\n      }\n      \n      case 'STOP_SONG': {\n        return state.delete('notes');\n      }\n      \n      case 'SET_LOCATION': {\n        const pathname = args.getIn(['location', 'pathname'], '') as string;\n        const search = args.getIn(['location', 'search'], '') as string;\n\n        const instrumentName: string = pathname.substring(1);\n        const visualizerName: string =\n          new URLSearchParams(search.substring(1)).get('visualizer') ?? '';\n        const instruments: List<Instrument> = state.get('instruments');\n        const visualizers: List<Visualizer> = state.get('visualizers');\n\n        const instrument = instruments.find(i => i.name === instrumentName);\n        const visualizer = visualizers.find(v => v.name === visualizerName);\n\n        return state\n          .set('instrument', instrument)\n          .set('visualizer', visualizer);\n      }\n      \n      case 'TRIGGER_RECORDING': {\n        const isRecording = args.get('isRecording');\n\n        return state.set('isRecording', !isRecording);\n      }\n\n      case 'TRIGGER_RECORDING_POPUP': {\n        const openPopup = args.get('openPopup');\n\n        return state.set('openPopup', !openPopup);\n      }\n\n      case 'RECORD_A_SONG': {\n        const song: string[] = args.get('song');\n\n        return state.set('song', song);\n      }\n\n      case 'ADD_NOTE_TO_SONG': {\n        const note: string = args.get('note');\n        let songCopy: string[] = state.get('song');\n            songCopy = [...songCopy, note];\n\n        return state.set('song', songCopy);\n      }\n\n      default:\n        console.error(`type unknown: ${type}\\n`, args.toJS());\n        return state;\n    }\n  })();\n\n  console.debug(newState.update('socket', s => (s ? '[socket]' : s)).toJS());\n\n  return newState;\n}\n","// 3rd party library imports\nimport React, { useState, useEffect } from 'react';\nimport * as Tone from 'tone';\n\n// project imports\nimport { DispatchAction } from './Reducer';\nimport { AppState } from './State';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of an Instruments.\n ** ------------------------------------------------------------------------ */\n\nexport interface InstrumentProps {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n  name: string;\n  synth: Tone.Synth;\n  setSynth: (f: (oldSynth: Tone.Synth) => Tone.Synth) => void;\n}\n\nexport class Instrument {\n  public readonly name: string;\n  public readonly component: React.FC<InstrumentProps>;\n\n  constructor(name: string, component: React.FC<InstrumentProps>) {\n    this.name = name;\n    this.component = component;\n  }\n}\n\nfunction TopNav({ name }: { name: string }) {\n  return (\n    <div\n      className={\n        'w-100 h3 bb b--light-gray flex justify-between items-center ph4'\n      }\n    >\n      <div>{name}</div>\n    </div>\n  );\n}\n\ninterface InstrumentContainerProps {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n  instrument: Instrument;\n}\n\nexport const InstrumentContainer: React.FC<InstrumentContainerProps> = ({\n  instrument,\n  state,\n  dispatch,\n}: InstrumentContainerProps) => {\n  const InstrumentComponent = instrument.component;\n  const [synth, setSynth] = useState(\n    new Tone.Synth({\n      oscillator: { type: 'sine' } as Tone.OmniOscillatorOptions,\n    }).toDestination(),\n  );\n\n  const notes = state.get('notes');\n\n  useEffect(() => {\n    if (notes && synth) {\n      let eachNote = notes.split(' ');\n      let noteObjs = eachNote.map((note: string, idx: number) => ({\n        idx,\n        time: `+${idx / 4}`,\n        note,\n        velocity: 1,\n      }));\n\n      new Tone.Part((time, value) => {\n        // the value is an object which contains both the note and the velocity\n        synth.triggerAttackRelease(value.note, '4n', time, value.velocity);\n        if (value.idx === eachNote.length - 1) {\n          dispatch(new DispatchAction('STOP_SONG'));\n        }\n      }, noteObjs).start(0);\n\n      Tone.Transport.start();\n\n      return () => {\n        Tone.Transport.cancel();\n      };\n    }\n\n    return () => {};\n  }, [notes, synth, dispatch]);\n\n  return (\n    <div>\n      <TopNav name={instrument.name} />\n      <div\n        className={'bg-white absolute right-0 left-0'}\n        style={{ top: '4rem' }}\n      >\n        <InstrumentComponent\n          name={instrument.name}\n          state={state}\n          dispatch={dispatch}\n          synth={synth}\n          setSynth={setSynth}\n        />\n      </div>\n    </div>\n  );\n};\n","import { DispatchAction } from '../Reducer';\nimport axios from 'axios';\nimport React from 'react';\n\nexport const getSongs = async (dispatch: React.Dispatch<DispatchAction>) => {\n    try {\n        const res = await axios.get('/api/songs', {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });    \n\n        if(res.status === 200) {\n            dispatch(new DispatchAction('SET_SONGS', { songs: res.data.songs }));\n        }\n    }\n    catch(err) {\n        console.error(err);\n    }\n};\n\nexport const getSong = async (dispatch: React.Dispatch<DispatchAction>,\n                              songTitle: string) => {\n    try {\n        const res = await axios.get(`/api/songs/${songTitle}`, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n      \n        if(res.status === 200) {\n            dispatch(new DispatchAction('SET_SONGS', { songs: res.data.songs }));\n        }\n    }\n    catch(err) {\n      console.error(err);\n    }\n};\n\nexport const updateSong = async(dispatch: React.Dispatch<DispatchAction>,\n                                newTitle: string,\n                                songId: number) => {\n    try {\n        const res = await axios.put(`/api/songs/${songId}`, null, { params: { newTitle: newTitle } });\n\n        if(res.status === 200) {\n            await getSongs(dispatch);\n        }\n    }\n    catch(err) {\n        console.error(err);\n    }\n};\n\nexport const addSong = async (dispatch: React.Dispatch<DispatchAction>, \n                              songTitle: string, \n                              song: string[]) => {\n    try {\n        const body = {\n            song_title: songTitle,\n            song: song,  \n        };\n\n        const res = await axios.post('/api/songs', body, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        \n        // successful creation of new song\n        if(res.status === 201) {\n            await getSongs(dispatch);\n        }\n    }\n    catch(err) {\n        console.error(err);\n    }\n};\n\nexport const deleteSong = async(dispatch: React.Dispatch<DispatchAction>,\n                                songId: number) => {\n    try {\n        const res = await axios.delete(`/api/songs/${songId}`);\n\n        if(res.status === 200) {\n        await getSongs(dispatch);\n        }\n    }\n    catch(err) {\n        console.error(err);\n    }\n};","// 3rd party library imports\nimport classNames from 'classnames';\nimport { List, Map } from 'immutable';\nimport React from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport {\n  RadioButton20,\n  RadioButtonChecked20,\n  Music20,\n  TrashCan20,\n  OverflowMenuHorizontal20,\n} from '@carbon/icons-react';\n\n// project imports\nimport { DispatchAction } from './Reducer';\nimport { AppState } from './State';\nimport { Instrument } from './Instruments';\nimport { Visualizer } from './Visualizers';\nimport './css/ud-menu.css';\nimport './css/recording_button.css';\nimport { getSong, updateSong, deleteSong, getSongs } from './utils/apiCreators';\n\n/** ------------------------------------------------------------------------ **\n * All the components in the side navigation.\n ** ------------------------------------------------------------------------ */\n\ninterface SideNavProps {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n  isShowingUD?: boolean;\n  songId?: number;\n  song?: Map<any, any>; \n  handleSearchChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  searchTerm?: string;\n}\n\ninterface SearchProps {\n  handleSearchChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst Section: React.FC<{ title: string }> = ({ title, children }) => {\n  return (\n    <div className=\"flex flex-column h-25 bb b--light-gray pa3\">\n      <div className=\"fw7 mb2\">{title} </div>\n      <div className=\"flex-auto overflow-auto\">{children}</div>\n    </div>\n  );\n};\n\ninterface RadioButtonProps {\n  to: any,\n  text: string,\n  active: boolean,\n  onClick: () => void\n}\n\n// isActive will change the text contained in the record button\n// onClick will dispatch to redux action in Reducer.tsx\ninterface RecordingButtonProps {\n  isRecording: boolean,\n  onClick: () => void\n}\n\nfunction RadioButton({ to, text, active, onClick }: RadioButtonProps): JSX.Element {\n  return (\n    <Link to={to} className=\"no-underline\">\n      <div\n        className={classNames('f7 flex items-center black', { fw7: active })}\n        onClick={onClick}\n      >\n        {active ? (\n          <RadioButtonChecked20 className=\"mr1\" />\n        ) : (\n          <RadioButton20 className=\"mr1\" />\n        )}\n        <div className=\"dim\">{text}</div>\n      </div>\n    </Link>\n  );\n}\n\nfunction RecordingButton({ isRecording, onClick }: RecordingButtonProps): JSX.Element {\n  return (\n    <div className=\"recording-buttons\">\n      <button className=\"recording-button\" onClick={onClick}>\n        {isRecording ? \"Stop\" : \"Record\"}\n      </button>\n    </div>\n  );\n}\n\nfunction UpdateAndDeleteButton({state, dispatch, songId, isShowingUD}: SideNavProps): JSX.Element {\n\n  const [newTitle, setNewTitle] = React.useState('');\n\n  const handleSubmit = async (e: React.ChangeEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    if(songId)\n      await updateSong(dispatch, newTitle, songId);\n\n    setNewTitle('');\n  };\n\n  const handleDelete = async () => {\n    if(songId)\n      await deleteSong(dispatch, songId);\n  };\n\n  const handleTitleChange = (e: React.ChangeEvent<HTMLInputElement>) => setNewTitle(e.target.value);\n\n  return (\n    <div className=\"ud-menu\">\n      { isShowingUD && (\n        <div className=\"ud-menu-content\">\n          <form className=\"update-form\" onSubmit={handleSubmit}>\n            <fieldset className=\"update-form-fieldset\">\n              <label>\n                <input\n                    value={newTitle}\n                    onChange={handleTitleChange}\n                    type=\"text\"\n                    placeholder=\"Edit the song title\"\n                />\n                <input type=\"submit\" hidden /> \n              </label>\n            </fieldset>\n          </form>\n          <TrashCan20 \n            className=\"delete-icon dim\"\n            onClick={handleDelete}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction Instruments({ state }: SideNavProps): JSX.Element {\n  const instruments: List<Instrument> = state.get('instruments');\n  const activeInstrument = state.get('instrument')?.name;\n  const location = useLocation();\n\n  return (\n    <Section title=\"Instruments\">\n      {instruments.map(i => (\n        <RadioButton\n          key={i.name}\n          to={`/${i.name}${location.search}`}\n          text={i.name}\n          active={i.name === activeInstrument}\n          onClick={() => console.log(i.name)}\n        />\n      ))}\n    </Section>\n  );\n}\n\nfunction Visualizers({ state }: SideNavProps): JSX.Element {\n  const visualizers: List<Visualizer> = state.get('visualizers');\n  const activeVisualizer = state.get('visualizer')?.name;\n  const location = useLocation();\n\n  return (\n    <Section title=\"Visualizers\">\n      {visualizers.map(v => (\n        <RadioButton\n          key={v.name}\n          to={{\n            pathname: location.pathname,\n            search: `?visualizer=${v.name}`,\n          }}\n          text={v.name}\n          active={v.name === activeVisualizer}\n          onClick={() => console.log(v.name)}\n        />\n      ))}\n    </Section>\n  );\n}\n\nfunction Search({handleSearchChange}: SearchProps): JSX.Element {\n  const handleSubmit = (e: React.ChangeEvent<HTMLFormElement>) => {\n    e.preventDefault();\n  };\n  \n  return (\n    <form onSubmit={handleSubmit}>\n      <fieldset className=\"form-fieldset\">\n        <label>\n          <input \n            type=\"text\"\n            name=\"search\"\n            onChange={handleSearchChange}\n            placeholder=\"Search\"\n            autoComplete=\"off\"\n          />\n          <input type=\"submit\" hidden />\n        </label>\n      </fieldset>\n    </form>\n  );\n}\n\nfunction Song({state, dispatch, songId, song}: SideNavProps): JSX.Element {\n\n  // UD is an abbreviation for update/delete \n  const [isShowingUD, setIsShowingUD] = React.useState(false);  \n\n  return ( \n    (song !== undefined) ? \n      <div className=\"song-wrapper\">\n        <div className=\"inline-flex w-100\">\n          <div\n            key={song.get('id')}\n            className=\"f7 pointer song underline no-underline i\"\n            onClick={() =>\n              dispatch(new DispatchAction('PLAY_SONG', { id: song.get('id') }))\n            }\n          >\n            <div className=\"song-content dim\">\n              <Music20 className=\"mr1\" />\n              {song.get('songTitle')}\n            </div>\n          </div>\n          <div className=\"overflow-menu\">\n            <OverflowMenuHorizontal20 \n              onClick={() => setIsShowingUD(!isShowingUD)}\n              className=\"dim\"\n            />\n          </div>\n        </div>\n        \n        <UpdateAndDeleteButton state={state} dispatch={dispatch} songId={songId} isShowingUD={isShowingUD}/>\n      </div> \n      : <> </>\n  );\n}\n\nfunction Songs({ state, dispatch, searchTerm }: SideNavProps): JSX.Element {\n  const songs: List<any> = state.get('songs', List());\n\n  return (\n    <Section title=\"Playlist\">\n      {songs\n        .filter(song => song.get('songTitle').includes(searchTerm))\n        .map(song => {\n        const songId: number = song.get('id');\n\n        return (\n          <Song state={state} dispatch={dispatch} song={song} songId={songId}/>\n        );\n      })}\n    </Section>\n  );\n}\n\nfunction RecordingButtons({ state, dispatch }: SideNavProps): JSX.Element {\n  const isRecording: boolean = state.get('isRecording');\n  const openPopup: boolean = state.get('openPopup');\n  const [startRecording, setStartRecording] = React.useState(false);\n  const [stopRecording, setStopRecording] = React.useState(false);\n\n  return (\n    <Section title=\"Record a Song\">\n      <RecordingButton\n        onClick={() => {\n          // notify redux and update state for whether the user is recording or not \n          dispatch(new DispatchAction('TRIGGER_RECORDING', {\n            isRecording: isRecording\n          }));\n\n          // create some sort of condition here if isRecording is set to true\n          if(!state.get('isRecording')) {\n            setStartRecording(true);\n\n            // notify redux that a new song should be created\n            // a song should simply hold a list of the notes clicked by the user \n            dispatch(new DispatchAction('RECORD_A_SONG', {\n              song: []\n            }));\n          }\n          else {\n            // stop recording a song and add song to db\n            setStartRecording(false);\n            setStopRecording(true);\n\n            setTimeout(() => {\n              setStopRecording(false);\n            }, 3000);\n\n            // if a recording is stopped, then open the popup menu where the song title will be input\n            dispatch(new DispatchAction('TRIGGER_RECORDING_POPUP', {\n              openPopup: openPopup\n            }));\n          }\n        }}\n        isRecording={isRecording}\n      />\n      <div className=\"recording-button-message-wrapper\">\n        {startRecording && \n          <div className=\"recording-button-message\">\n            <div className=\"blinking-record-icon\">  </div>\n            <p> Your recording is live </p>\n          </div>\n        }\n        {stopRecording && <p> Your recording has stopped </p>}\n      </div>\n    </Section>\n  );\n}\n\nexport function SideNav({ state, dispatch }: SideNavProps): JSX.Element {\n  const [searchTerm, setSearchTerm] = React.useState('');\n\n  const handleSearchChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if(e.target.value === '') {\n      // clear searched songs from state\n      await getSongs(dispatch);\n      setSearchTerm('');\n      return;\n    }\n\n    if(searchTerm.includes(e.target.value)) {\n      // if the new search value is already in search term, another API is not necessary\n      setSearchTerm(e.target.value);\n      return;\n    }\n\n    await getSong(dispatch, e.target.value);\n    setSearchTerm('');\n  };\n  \n  return (\n    <div className=\"absolute top-0 left-0 bottom-0 w5 z-1 shadow-1 bg-white flex flex-column\">\n      <div className=\"h3 fw7 f5 flex items-center pl3 bb b--light-gray\">\n        Quadtuplets\n      </div>\n      <div className=\"flex-auto\">\n        <Instruments state={state} dispatch={dispatch} />\n        <Visualizers state={state} dispatch={dispatch} />\n        <Search handleSearchChange={handleSearchChange}/>\n        <Songs state={state} dispatch={dispatch} searchTerm={searchTerm}/>\n        <RecordingButtons state={state} dispatch={dispatch}/>\n      </div>\n    </div>\n  );\n}\n","// 3rd party library imports\nimport * as Tone from 'tone';\nimport Sketch from 'react-p5';\nimport P5 from 'p5';\nimport { useEffect, useMemo, useCallback } from 'react';\n//import mandelbrot_set from './img/mandelbrot_set.png';\n\ntype VisualizerDrawer = (p5: P5, analyzer: Tone.Analyser) => void;\n\ninterface VisualizerContainerProps {\n  visualizer: Visualizer;\n}\n\nexport class Visualizer {\n  public readonly name: string;\n  public readonly draw: VisualizerDrawer;\n\n  constructor(name: string, draw: VisualizerDrawer) {\n    this.name = name;\n    this.draw = draw;\n  }\n}\n\nexport function VisualizerContainer({ visualizer }: VisualizerContainerProps) {\n\n  const { name, draw } = visualizer;\n\n  let setCircumference = (name === \"Circumference\") ? true : false;\n\n  const analyzer: Tone.Analyser = useMemo(\n    () => new Tone.Analyser('waveform', 256),\n    [],\n  );\n\n  const onResize = useCallback((p5: P5) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n\n    p5.resizeCanvas(width, height, false);\n  }, []);\n\n  useEffect(() => {\n    Tone.getDestination().volume.value = -5;\n    Tone.getDestination().connect(analyzer);\n    return () => {\n      Tone.getDestination().disconnect(analyzer);\n    };\n  }, [analyzer]);\n\n  const setup = (p5: P5, canvasParentRef: Element) => {\n    const width = (setCircumference) ? window.innerWidth / 2 : window.innerWidth;\n    const height = (setCircumference) ? window.innerHeight : window.innerHeight / 2; \n    p5.createCanvas(width, height).parent(canvasParentRef);\n    p5.angleMode(p5.DEGREES);\n  };\n\n  return (\n    <div className={setCircumference ? 'bg-grey absolute right-0 h-100 w-50' : 'bg-black absolute bottom-0 right-0 left-0 h-50'}>\n      <div className={'z-1 absolute left-0 top-0 pa4 white f5'}>{name}</div>\n      <Sketch\n        setup={setup}\n        draw={p5 => draw(p5, analyzer)}\n        windowResized={onResize}\n        className={setCircumference ? 'circumference-visualizer' : ''}\n      />\n    </div>\n  );\n}\n","// 3rd party library imports\nimport React, { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport * as Tone from 'tone';\nimport { Music32 } from '@carbon/icons-react';\nimport Popup from 'reactjs-popup';\n\n// project imports\nimport { InstrumentContainer } from './Instruments';\nimport { AppState } from './State';\nimport { DispatchAction } from './Reducer';\nimport { SideNav } from './SideNav';\nimport { VisualizerContainer } from './Visualizers';\nimport \"./css/recording_popup.css\";\nimport { addSong } from './utils/apiCreators';\n\ntype PanelProps = {\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n};\n\n/** ------------------------------------------------------------------------ **\n * Instrument and visualizer component\n ** ------------------------------------------------------------------------ */\n\nfunction InstrumentPanel({ state, dispatch }: PanelProps): JSX.Element {\n  /**\n   * This React component is the top-level for the instrument.\n   */\n  const instrument = state.get('instrument');\n\n  return (\n    <div>\n      {instrument && (\n        <InstrumentContainer\n          state={state}\n          dispatch={dispatch}\n          instrument={instrument}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction VisualizerPanel({ state }: PanelProps): JSX.Element {\n  /**\n   * This React component is the top-level for the visualizer.\n   */\n  const visualizer = state.get('visualizer');\n\n  return (\n    <div>\n      {visualizer && (\n        <VisualizerContainer key={visualizer.name} visualizer={visualizer} />\n      )}\n    </div>\n  );\n}\n\nfunction InstrumentAndVisualizer({ state, dispatch }: PanelProps): JSX.Element {\n  /**\n   * This React component bundles the instrument panel and visualizer panel together.\n   */\n\n  return (\n    <div\n      className=\"absolute right-0 bottom-0 top-0 flex flex-column\"\n      style={{ left: '16rem' }}\n    >\n      <InstrumentPanel state={state} dispatch={dispatch} />\n      <VisualizerPanel state={state} dispatch={dispatch} />\n      <RecordingPopup state={state} dispatch={dispatch} />\n    </div>\n  );\n}\n\nfunction RecordingPopup({state, dispatch}: PanelProps): JSX.Element {\n  /**\n   * This React component will be displayed after a song has been finished recording.\n   */\n\n  const openPopup: boolean = state.get('openPopup');\n\n  const closeModal = () => dispatch(new DispatchAction('TRIGGER_RECORDING_POPUP', {\n    openPopup: openPopup\n  }));\n\n  return (\n    <Popup open={openPopup} closeOnDocumentClick>\n      <div className=\"modal\">\n        <button className=\"close close-modal\" onClick={closeModal}>\n          &times;\n        </button>\n        <RecordingForm state={state} dispatch={dispatch}/>\n      </div>\n    </Popup>\n  );\n}\n\nfunction RecordingForm({state, dispatch}: PanelProps): JSX.Element {\n  const [submitting, setSubmitting] = React.useState(false);\n  const [submitted, setSubmitted] = React.useState(false);\n  const [input, setInput] = React.useState('');\n\n  const handleSubmit = async (e: React.ChangeEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setSubmitting(true);\n\n    // submit value entered into form input to state to finalize creation of song \n    await addSong(dispatch, input, state.get('song'));\n\n    setTimeout(() => {\n      setSubmitting(false);\n      setSubmitted(true);\n\n      setTimeout(() => {\n        setSubmitted(false);\n        setInput('');\n      }, 3000);\n    }, 3000);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => setInput(e.target.value);\n\n  return (\n    <form className=\"recording-form\" onSubmit={handleSubmit}>\n      <fieldset className=\"form-fieldset\">\n        <label className=\"form-fieldset-label\">\n          <h3> You're almost done! </h3>\n          <p> As a last step, enter a title for your song recording. </p>\n          <input value={input} onChange={handleInputChange} placeholder=\"Enter a song title\"/>\n        </label>\n      </fieldset>\n      <button className=\"form-button\" type=\"submit\"> Submit </button>\n      <div className=\"form-submission-message\">\n        {submitting && <p> Submitting form... </p>}\n        {submitted && <p> Your song has been submitted! </p>}\n      </div>\n    </form>\n  );\n}\n\nfunction ShowWelcome(): JSX.Element {\n  return (\n    <div\n      className=\"absolute right-0 bottom-0 top-0 flex flex-column items-center justify-center\"\n      style={{ left: '16rem' }}\n    >\n      <div className=\"mw6 lh-copy mb4\">\n        <Music32 />\n        <div className=\"f3 fw7 mb2\">Welcome to the case study.</div>\n        <div className=\"f4 mb3\">\n          Select an instrument and a visualizer on the left to serve some fresh\n          beats.\n        </div>\n        <div className=\"f5\">The UI is yours to design. Express yourself.</div>\n      </div>\n    </div>\n  );\n}\n\n/** ------------------------------------------------------------------------ **\n * Main page component\n ** ------------------------------------------------------------------------ */\n\nexport function MainPage({ state, dispatch }: PanelProps): JSX.Element {\n  /**\n   * This React component bundles together the entire main page.\n   */\n\n  const location = useLocation();\n  const isWelcome = !state.get('instrument');\n  console.log('INSTRUMENT', isWelcome);\n\n  useEffect(() => {\n    dispatch(new DispatchAction('SET_LOCATION', { location }));\n  }, [dispatch, location]);\n\n  return (\n    <div\n      className=\"fixed top-0 left-0 h-100 w-100 bg-white\"\n      onClick={() => Tone.start()}\n    >\n      <SideNav state={state} dispatch={dispatch} />\n      {isWelcome ? (\n        <ShowWelcome />\n      ) : (\n        <InstrumentAndVisualizer state={state} dispatch={dispatch} />\n      )}\n    </div>\n  );\n}\n","// 3rd party library imports\nimport * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List, Range } from 'immutable';\nimport React from 'react';\n\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments';\nimport { DispatchAction } from '../Reducer';\nimport { AppState } from '../State';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Piano.\n ** ------------------------------------------------------------------------ */\n\ninterface PianoKeyProps {\n  note: string; // C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B\n  duration?: string;\n  synth?: Tone.Synth; // Contains library code for making sound\n  minor?: boolean; // True if minor key, false if major key\n  octave: number;\n  index: number; // octave + index together give a location for the piano key\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n}\n\nexport function PianoKey({\n  note,\n  synth,\n  minor,\n  index,\n  state,\n  dispatch\n}: PianoKeyProps): JSX.Element {\n  /**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */\n  return (\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    <div\n      onMouseDown={() => {\n        synth?.triggerAttack(`${note}`);\n\n        // only add the note into a new song if recording button has been clicked\n        if(state.get('isRecording')) {\n          dispatch(new DispatchAction('ADD_NOTE_TO_SONG', {\n            note: note\n          }));\n        }\n      }} // Question: what is `onMouseDown`?\n      onMouseUp={() => synth?.triggerRelease('+0.25')} // Question: what is `onMouseUp`?\n      className={classNames('ba pointer absolute dim', {\n        'bg-black black h3': minor, // minor keys are black\n        'black bg-white h4': !minor, // major keys are white\n      })}\n      style={{\n        // CSS\n        top: 0,\n        left: `${index * 2}rem`,\n        zIndex: minor ? 1 : 0,\n        width: minor ? '1.5rem' : '2rem',\n        marginLeft: minor ? '0.25rem' : 0,\n      }}\n    ></div>\n  );\n}\n\n// eslint-disable-next-line\nfunction PianoKeyWithoutJSX({\n  note,\n  synth,\n  minor,\n  index,\n}: PianoKeyProps): JSX.Element {\n  /**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */\n  return React.createElement(\n    'div',\n    {\n      onMouseDown: () => synth?.triggerAttack(`${note}`),\n      onMouseUp: () => synth?.triggerRelease('+0.25'),\n      className: classNames('ba pointer absolute dim', {\n        'bg-black black h3': minor,\n        'black bg-white h4': !minor,\n      }),\n      style: {\n        top: 0,\n        left: `${index * 2}rem`,\n        zIndex: minor ? 1 : 0,\n        width: minor ? '1.5rem' : '2rem',\n        marginLeft: minor ? '0.25rem' : 0,\n      },\n    },\n    [],\n  );\n}\n\nfunction PianoType({ title, onClick, active }: any): JSX.Element {\n  return (\n    <div\n      onClick={onClick}\n      className={classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n        'b--black black': active,\n        'gray b--light-gray': !active,\n      })}\n    >\n      {title}\n    </div>\n  );\n}\n\nfunction Piano({ state, dispatch, synth, setSynth }: InstrumentProps): JSX.Element {\n  const keys = List([\n    { note: 'C', idx: 0 },\n    { note: 'Db', idx: 0.5 },\n    { note: 'D', idx: 1 },\n    { note: 'Eb', idx: 1.5 },\n    { note: 'E', idx: 2 },\n    { note: 'F', idx: 3 },\n    { note: 'Gb', idx: 3.5 },\n    { note: 'G', idx: 4 },\n    { note: 'Ab', idx: 4.5 },\n    { note: 'A', idx: 5 },\n    { note: 'Bb', idx: 5.5 },\n    { note: 'B', idx: 6 },\n  ]);\n\n  const setOscillator = (newType: Tone.ToneOscillatorType) => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n\n      return new Tone.Synth({\n        oscillator: { type: newType } as Tone.OmniOscillatorOptions,\n      }).toDestination();\n    });\n  };\n\n\n  \n\n  const oscillators: List<OscillatorType> = List([\n    'sine',\n    'sawtooth',\n    'square',\n    'triangle',\n    'fmsine',\n    'fmsawtooth',\n    'fmtriangle',\n    'amsine',\n    'amsawtooth',\n    'amtriangle',\n  ]) as List<OscillatorType>;\n\n  return (\n    <div className=\"pv4\">\n      <div className=\"relative dib h4 w-100 ml4\">\n        {Range(2, 7).map(octave =>\n          keys.map(key => {\n            const isMinor = key.note.indexOf('b') !== -1;\n            const note = `${key.note}${octave}`;\n            return (\n              <PianoKey\n                key={note} //react key\n                note={note}\n                synth={synth}\n                minor={isMinor}\n                octave={octave}\n                index={(octave - 2) * 7 + key.idx}\n                state={state}\n                dispatch={dispatch}\n              />\n            );\n          }),\n        )}\n      </div>\n      <div className={'pl4 pt4 flex'}>\n        {oscillators.map(o => (\n          <PianoType\n            key={o}\n            title={o}\n            onClick={() => setOscillator(o)}\n            active={synth?.oscillator.type === o}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport const PianoInstrument = new Instrument('Piano', Piano);\n","\n   // 3rd party library imports\nimport * as Tone from 'tone';\nimport { List } from 'immutable';\nimport React from 'react';\nimport \"../css/ukulele.css\";\n\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments';\nimport { DispatchAction } from '../Reducer';\nimport { AppState } from '../State';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Piano.\n ** ------------------------------------------------------------------------ */\n\ninterface UkuleleFretProps {\n  note: string; // C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B\n  duration?: string;\n  synth?: Tone.Synth; // Contains library code for making sound\n  minor?: boolean; // True if minor key, false if major key\n  index: number; // octave + index together give a location for the piano key\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n}\n\nexport function UkuleleFret({\n  note,\n  synth,\n  index,\n  state, \n  dispatch\n}: UkuleleFretProps): JSX.Element {\n  /**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */\n  return (\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    <div \n      className=\"ukulele-fret\"\n      onMouseDown={() => {\n        console.log(note);\n        synth?.triggerAttack(`${note}`);\n\n        // only add the note into a new song if recording button has been clicked\n        if(state.get('isRecording')) {\n          dispatch(new DispatchAction('ADD_NOTE_TO_SONG', {\n            note: note\n          }));\n        }\n      }}\n      onMouseUp={() => synth?.triggerRelease('+0.25')}\n    >\n    </div>\n  );\n}\n\nfunction Ukulele({ state, dispatch, synth, setSynth }: InstrumentProps): JSX.Element {\n\n  const standard_tuning_1frets = List([\n    // strings \n    [{ note: 'G', octave: 4, idx: 49}, { note: 'C', octave: 4, idx: 50}, { note: 'E', octave: 4, idx: 51}, { note: 'A', octave: 4, idx: 52}],\n    // 1 - 4th frets\n    [{ note: 'Ab', octave: 5, idx: 0 }, { note: 'Db', octave: 5, idx: 1 }, { note: 'F', octave: 5, idx: 2 }, { note: 'Bb', octave: 5, idx: 3 }],\n    [{ note: 'A', octave: 5, idx: 4 }, { note: 'D', octave: 5, idx: 5 }, { note: 'Gb', octave: 5, idx: 6 }, { note: 'B', octave: 5, idx: 7 }],\n    [{ note: 'Bb', octave: 5, idx: 8 }, { note: 'Eb', octave: 5, idx: 9 }, { note: 'G', octave: 5, idx: 10 }, { note: 'C', octave: 6, idx: 11 }],\n    [{ note: 'B', octave: 5, idx: 12}, { note: 'E', octave: 5, idx: 13}, { note: 'Ab', octave: 5, idx: 14}, { note: 'Db', octave: 6, idx: 15}],\n    // 5th fret\n    [{ note: 'C', octave: 6, idx: 16}, { note: 'F', octave: 5, idx: 17}, { note: 'A', octave: 5, idx: 18}, { note: 'D', octave: 6, idx: 19}],\n    [{ note: 'Db', octave: 6, idx: 20}, { note: 'Gb', octave: 5, idx: 21}, { note: 'Bb', octave: 5, idx: 22}, { note: 'Eb', octave: 6, idx: 23}],\n    // 7th fret\n    [{ note: 'D', octave: 6, idx: 24}, { note: 'G', octave: 5, idx: 25}, { note: 'B', octave: 5, idx: 26}, { note: 'E', octave: 6, idx: 27}],\n    [{ note: 'Eb', octave: 6, idx: 28}, { note: 'Ab', octave: 5, idx: 29}, { note: 'C', octave: 6, idx: 30}, { note: 'F', octave: 6, idx: 31}],\n    [{ note: 'E', octave: 6, idx: 32}, { note: 'A', octave: 5, idx: 33}, { note: 'Db', octave: 6, idx: 34}, { note: 'Gb', octave: 6, idx: 35}],\n    // 10th fret\n    [{ note: 'F', octave: 6, idx: 36}, { note: 'Bb', octave: 5, idx: 37}, { note: 'D', octave: 6, idx: 38}, { note: 'G', octave: 6, idx: 39}],\n    [{ note: 'Gb', octave: 6, idx: 40}, { note: 'B', octave: 5, idx: 42}, { note: 'Eb', octave: 6, idx: 43}, { note: 'Ab', octave: 6, idx: 44}],\n    [{ note: 'G', octave: 6, idx: 45}, { note: 'C', octave: 6, idx: 46}, { note: 'E', octave: 6, idx: 47}, { note: 'A', octave: 6, idx: 48}]\n  ]);\n\n  /*const standard_tuning_2frets = List([\n    [{ note: 'Eb', octave: 3, idx: 0 }, { note: 'Ab', octave: 3, idx: 1 }, { note: 'C', octave: 3, idx: 2 }, { note: 'F', octave: 3, idx: 3 }],\n    [{ note: 'E', octave: 5, idx: 4 }, { note: 'A', octave: 5, idx: 5 }, { note: 'Db', octave: 5, idx: 6 }, { note: 'Gb', octave: 5, idx: 7 }],\n    [{ note: 'F', octave: 5, idx: 8 }, { note: 'Bb', octave: 5, idx: 9 }, { note: 'D', octave: 5, idx: 10 }, { note: 'G', octave: 5, idx: 11 }],\n    [{ note: 'Gb', octave: 5, idx: 12}, { note: 'B', octave: 5, idx: 13}, { note: 'Eb', octave: 5, idx: 14}, { note: 'Ab', octave: 5, idx: 15}],\n    [{ note: 'G', octave: 5, idx: 16}, { note: 'C', octave: 5, idx: 17}, { note: 'E', octave: 5, idx: 18}, { note: 'A', octave: 5, idx: 19}],\n    [{ note: 'Ab', octave: 5, idx: 20}, { note: 'Db', octave: 5, idx: 21}, { note: 'F', octave: 5, idx: 22}, { note: 'Bb', octave: 5, idx: 23}],\n    [{ note: 'A', octave: 5, idx: 24}, { note: 'D', octave: 5, idx: 25}, { note: 'Gb', octave: 5, idx: 26}, { note: 'B', octave: 5, idx: 27}],\n    [{ note: 'Bb', octave: 5, idx: 28}, { note: 'Eb', octave: 5, idx: 29}, { note: 'G', octave: 5, idx: 30}, { note: 'C', octave: 5, idx: 31}],\n    [{ note: 'B', octave: 5, idx: 32}, { note: 'E', octave: 5, idx: 33}, { note: 'Ab', octave: 5, idx: 34}, { note: 'Db', octave: 5, idx: 35}],\n    [{ note: 'C', octave: 5, idx: 36}, { note: 'F', octave: 5, idx: 37}, { note: 'A', octave: 5, idx: 38}, { note: 'D', octave: 5, idx: 39}],\n    [{ note: 'Db', octave: 5, idx: 40}, { note: 'Gb', octave: 5, idx: 42}, { note: 'Bb', octave: 5, idx: 43}, { note: 'Eb', octave: 5, idx: 44}],\n    [{ note: 'D', octave: 5, idx: 45}, { note: 'G', octave: 5, idx: 46}, { note: 'B', octave: 5, idx: 47}, { note: 'E', octave: 5, idx: 48}]\n  ]);*/\n\n  /*const setOscillator = (newType: Tone.ToneOscillatorType) => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n\n      return new Tone.Synth({\n        oscillator: { type: newType } as Tone.OmniOscillatorOptions,\n      }).toDestination();\n    });\n  };*/\n\n  return (\n    <div className=\"pv4\">\n      <div className=\"relative dib h4 w-50\">\n        <div className=\"ukulele\">\n          {standard_tuning_1frets.map((fret, idx) => {\n            const marker = (idx === 5 || idx === 7 || idx === 10) ? true : false;\n            \n            return (\n              <div className={idx === 0 ? \"fret-strings\" : \"fret\"}>\n                {marker && <span className=\"fret-marker\"></span>}\n                \n                {fret.map(aFret => {\n                    const note = `${aFret.note}${aFret.octave}`;\n\n                    return (\n                      <UkuleleFret \n                        note={note}\n                        synth={synth}\n                        index={idx}\n                        state={state}\n                        dispatch={dispatch}\n                      />\n                    );\n                  })}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport const mitchthebakerInstrument = new Instrument('mitchthebaker', Ukulele);","// 3rd party library imports\nimport * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List, Range } from 'immutable';\nimport React from 'react';\n\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments';\nimport { DispatchAction } from '../Reducer';\nimport { AppState } from '../State';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Piano.\n ** ------------------------------------------------------------------------ */\n\ninterface KulimbaKeyProps {\n  note: string; // C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B\n  duration?: string;\n  synth?: Tone.Synth; // Contains library code for making sound\n  minor?: boolean; // True if minor key, false if major key\n  identity: string; \n  octave: number;\n  index: number; // octave + index together give a location for the piano key\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n}\n\nconst Polysynth = new Tone.PolySynth().toDestination();\n\n\nPolysynth.set({\n  detune: -1200\n})\n\n\nexport function PianoKey({\n  note,\n  // synth,\n  // minor,\n  // index,\n  identity,\n  state,\n  dispatch\n}: KulimbaKeyProps): JSX.Element {\n  /**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */\n\n  \n  return (\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    // <div\n    //   onMouseDown={() => synth?.triggerAttack(`${note}`)} // Question: what is `onMouseDown`?\n    //   onMouseUp={() => synth?.triggerRelease('+0.25')} // Question: what is `onMouseUp`?\n    //   className={classNames('ba pointer absolute dim', {\n    //     'bg-black black h3': minor, // minor keys are black\n    //     'black bg-white h4': !minor, // major keys are white\n    //   })}\n    //   style={{\n    //     // CSS\n    //     top: 0,\n    //     left: `${index * 2}rem`,\n    //     zIndex: minor ? 1 : 0,\n    //     width: minor ? '1.5rem' : '2rem',\n    //     marginLeft: minor ? '0.25rem' : 0,\n    //   }}\n    // ></div>\n    <div>\n      <button \n        onMouseDown={() => {\n          Polysynth?.triggerAttack(`${note}`);\n\n          // only add the note into a new song if recording button has been clicked\n          if(state.get('isRecording')) {\n            dispatch(new DispatchAction('ADD_NOTE_TO_SONG', {\n              note: note\n            }));\n          }\n        }} \n        onMouseUp={() => Polysynth?.triggerRelease(`${note}`,'+0.19')}\n        style={{\n              // CSS\n              // top: 0,\n              // left: `${index * 2}rem`,\n              // zIndex: minor ? 1 : 0,\n              // width: minor ? '1.5rem' : '2rem',\n              // marginLeft: minor ? '0.25rem' : 0,\n        }}>{identity}</button>\n    </div>\n  );\n}\n\n// eslint-disable-next-line\nfunction PianoKeyWithoutJSX({\n  note,\n  synth,\n  minor,\n  index,\n}: KulimbaKeyProps): JSX.Element {\n  /**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */\n  return React.createElement(\n    'div',\n    {\n      onMouseDown: () => synth?.triggerAttack(`${note}`),\n      onMouseUp: () => synth?.triggerRelease('+0.25'),\n      className: classNames('ba pointer absolute dim', {\n        'bg-black black h3': minor,\n        'black bg-white h4': !minor,\n      }),\n      style: {\n        top: 0,\n        left: `${index * 2}rem`,\n        zIndex: minor ? 1 : 0,\n        width: minor ? '1.5rem' : '2rem',\n        marginLeft: minor ? '0.25rem' : 0,\n      },\n    },\n    [],\n  );\n}\n\n/*function PianoType({ title, onClick, active }: any): JSX.Element {\n  return (\n    <div\n      onClick={onClick}\n      className={classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n        'b--black black': active,\n        'gray b--light-gray': !active,\n      })}\n    >\n      {title}\n    </div>\n  );\n}*/\n\nfunction Kalimba({ state, dispatch, synth }: InstrumentProps): JSX.Element {\n  const keys = List([\n    { note: \"G5\", idx: 0 },\n    { note: \"F5\", idx: 0.5 },\n    { note: \"E5\", idx: 1 },\n    { note: \"D5\", idx: 1.5 },\n    { note: \"B4\", idx: 2 },\n    { note: \"C5\", idx: 0 },\n    { note: \"D5\", idx: 0.5 },\n    { note: \"E5\", idx: 1 },\n    { note: \"F5\", idx: 1.5 },\n    // { note: 'E', idx: 2 },\n    // { note: 'F', idx: 3 },\n    // { note: 'Gb', idx: 3.5 },\n    // { note: 'G', idx: 4 },\n    // { note: 'Ab', idx: 4.5 },\n    // { note: 'A', idx: 5 },\n    // { note: 'Bb', idx: 5.5 },\n    // { note: 'B', idx: 6 },\n  ]);\n\n\n  // const setOscillator = (newType: Tone.ToneOscillatorType) => {\n  //   setSynth(oldSynth => {\n  //     oldSynth.disconnect();\n\n  //     return new Tone.Synth({\n  //       //oscillator: { type: newType } as Tone.OmniOscillatorOptions,\n        \n  //     }).toDestination();\n\n\n  //   });\n  // };\n\n  /*const oscillators: List<OscillatorType> = List([\n    'sine',\n    'sawtooth',\n    'square',\n    'triangle',\n    'fmsine',\n    'fmsawtooth',\n    'fmtriangle',\n    'amsine',\n    'amsawtooth',\n    'amtriangle',\n  ]) as List<OscillatorType>;*/\n\n  return (\n    <div className=\"pv5\">\n      <div className={'pl4 pt4 flex'}>\n        {/* {oscillators.map(o => (\n          <PianoType\n            key={o}\n            title={o}\n            onClick={() => setOscillator(o)}\n            active={synth?.oscillator.type === o}\n          />\n        ))} */}\n      </div>\n      <div className=\"Kalimba_main\">\n        <div style={{backgroundImage: 'url(\"https://cdn-icons-png.flaticon.com/512/3100/3100511.png\")', backgroundRepeat: 'no-repeat', right: '50px'}}>\n          <div style={{height: '500px', width: '320px'}}>\n            <div className=\"keys\" style={{margin: 'auto', width: '60%', padding: '30px', display: \"flex\"}}>\n\n             \n              {Range(1, 2).map(octave =>\n                keys.map(key => {\n                  const note = `${key.note}`;\n                  return (\n                    <PianoKey\n                      key={note} //react key\n                      note={note}\n                      synth={synth}\n                      octave={octave}\n                      identity={key.note}\n                      index={(octave - 2) * 7 + key.idx}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  );\n                })\n              )} \n\n            </div> \n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport const KalimbaInstrument = new Instrument('kennethchuson2', Kalimba);\n\n\n","// 3rd party library imports\nimport * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List } from 'immutable';\nimport React from 'react';\n\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments';\nimport { DispatchAction } from '../Reducer';\nimport { AppState } from '../State';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Piano.\n ** ------------------------------------------------------------------------ */\n\ninterface FluteKeyProps {\n  note: string; \n  duration?: string;\n  synth?: Tone.Synth; // Contains library code for making sound\n  minor?: boolean; // True if minor key, false if major key\n  index: number; // octave + index together give a location for the piano key\n  state: AppState;\n  dispatch: React.Dispatch<DispatchAction>;\n}\n\nconst Monosynth = new Tone.MonoSynth().toDestination();\n\nexport function FluteKey({\n  note,\n  minor,\n  index,\n  state,\n  dispatch\n}: FluteKeyProps): JSX.Element {\n  /**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */\n  return (\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    <div\n      onMouseDown={() => {\n        Monosynth?.triggerAttack(`${note}`);\n\n        // only add the note into a new song if recording button has been clicked\n        if(state.get('isRecording')) {\n          dispatch(new DispatchAction('ADD_NOTE_TO_SONG', {\n            note: note\n          }));\n        }\n      }} // Question: what is `onMouseDown`?\n      onMouseUp={() => Monosynth?.triggerRelease('+0.32')} // Question: what is `onMouseUp`?\n      className={classNames('ba pointer absolute dim', {\n        'black bg-white h4': !minor, // major keys are white\n      })}\n      style={{\n        // CSS\n        top: 6,\n        left: `${index * 5}rem`,\n        zIndex: minor ? 4 : 2,\n        width: minor ? '2rem' : '5rem',\n        height: minor ? '2rem' : '5rem',\n        borderRadius: 88/2,\n        marginLeft: minor ? '0.25rem' : 25,\n      }}\n    >\n   </div>\n  );\n}\n\nfunction Flute({ state, dispatch, synth }: InstrumentProps): JSX.Element {\n\n  const flute = List([\n    [{ note: 'Ab', octave: 6, idx: 9 }, \n    { note: 'Db', octave: 6, idx: 1 }, \n    { note: 'F', octave: 6, idx: 2 }, \n    { note: 'Bb', octave: 4, idx: 3 }],\n    [{ note: 'A', octave: 4, idx: 4 }, \n    { note: 'D', octave: 4, idx: 5 }, \n    { note: 'Gb', octave: 6, idx: 6 }, \n    { note: 'B', octave: 6, idx: 7 }],\n    [{ note: 'Bb', octave: 6, idx: 8 }, \n    { note: 'Eb', octave: 6, idx: 9 }, \n    // { note: 'G', octave: 4, idx: 10 }, \n    // { note: 'C', octave: 4, idx: 11 }\n  ]\n  ]);\n\n  return (\n    <div className=\"pv4\">\n      <div className=\"relative dib h4 w-50\">\n        <div className=\"flute\">\n          {flute.map(blow => (\n              <div className=\"blow\">\n                {blow.map(blow => {\n                  const note = `${blow.note}${blow.octave}`;\n                  return (\n                    <FluteKey \n                      note={note}\n                      synth={synth}\n                      index={blow.idx}\n                      state={state}\n                      dispatch={dispatch}\n                    />\n                  );\n                })}\n              </div>\n            ))\n          }\n          <img\n     src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a8/Pan_flute.svg/868px-Pan_flute.svg.png\"\n     alt=\"Pan\"\n     style={{\n       margin: \"10px\",\n       width: \"650px\",\n       borderRadius: \"30px\",\n       objectFit: \"scale-down\",\n       marginBottom: \"15px\",\n       alignSelf: 'center'\n       \n     }}\n   />\n        </div> \n        <div className={'pl4 pt4 flex'}>\n          </div>\n      </div>   \n      </div> \n  );\n}\n\nexport const FluteInstrument = new Instrument('schrodobaggins', Flute);","// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\n\nexport const WaveformVisualizer = new Visualizer(\n  'Waveform',\n  (p5: P5, analyzer: Tone.Analyser) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n    const dim = Math.min(width, height);\n\n    p5.background(0, 0, 0, 255);\n\n    p5.strokeWeight(dim * 0.01);\n    p5.stroke(255, 255, 255, 255);\n    p5.noFill();\n\n    const values = analyzer.getValue();\n    p5.beginShape();\n    for (let i = 0; i < values.length; i++) {\n      const amplitude = values[i] as number;\n      const x = p5.map(i, 0, values.length - 1, 0, width);\n      const y = height / 2 + amplitude * height;\n      // Place vertexi\n      p5.vertex(x, y);\n    }\n    p5.endShape();\n  },\n);","// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\nconst particles: Particle[] = [];\n\nclass Particle {\n\n  public position;\n  public velocity;\n  public acc;\n  public w; \n  public color: any[];\n\n  constructor(p5: P5) {\n    this.position = Object.getPrototypeOf(p5).constructor.Vector.random2D().mult(250);\n    this.velocity = p5.createVector(0, 0);\n    this.acc = this.position.copy().mult(p5.random(0.001, 0.0001));\n    this.w = p5.random(3, 5);\n    this.color = [p5.random(200, 255), p5.random(200, 255), p5.random(200, 255)];\n  }\n\n  update(): void {\n    this.velocity.add(this.acc);\n    this.position.add(this.velocity);\n  }\n\n  edges(width: number, height: number): boolean {\n    if(this.position.x < -width / 2 || this.position.x > width / 2\n        || this.position.y < -height / 2 || this.position.y > height / 2) {\n          return true;\n        }\n    else {\n      return false;\n    }\n  }\n\n  show(p5: P5): void {\n    p5.noStroke()\n    p5.fill(this.color);\n    p5.ellipse(this.position.x, this.position.y, this.w);\n  }\n}\n\nexport const mitchthebakerVisualizer = new Visualizer(\n  'mitchthebaker',\n  (p5: P5, analyzer: Tone.Analyser) => {\n    const width = window.innerWidth / 2;\n    const height = window.innerHeight;\n\n    p5.background(0);\n    p5.stroke(255);\n    p5.strokeWeight(3);\n    p5.noFill();\n    p5.translate(width / 2, height / 2);\n    \n    const wave = analyzer.getValue();\n\n    for(let t = -1; t <= 1; t += 2) {\n      p5.beginShape();\n\n      // Use 180 since this is equal to the radius of a circle\n      for(let i = 0; i <= 180; i += 0.5) {\n        let index = Math.floor(p5.map(i, 0, 180, 0, wave.length - 1));\n        //console.log(values[index]);\n\n        let r = p5.map(Number(wave[index]), -1, 1, 150, 350);\n\n        let x = r * p5.sin(i) * t;\n        let y = r * p5.cos(i);\n        p5.vertex(x, y);\n      }\n\n      p5.endShape();\n    }\n\n    let p: Particle = new Particle(p5);\n    particles.push(p);\n\n    for(let i = particles.length - 1; i >= 0; i--) {\n      if(!particles[i].edges(width, height)) {\n        particles[i].update();\n        particles[i].show(p5);\n      }\n      else {\n        particles.splice(i, 1);\n      }\n    }\n  },\n);\n","// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\nexport const KennethVisualizer = new Visualizer(\n  'kennethchuson2',\n  (p5: P5, analyzer: Tone.Analyser) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n    const dim = Math.min(width, height);\n\n    let arr_colors:string[] = ['rgb(0,255,0)', 'rgb(195,4,4)', 'rgb(42,13,191)', 'rgba(0,234,242)']\n\n    p5.background('#4F1B77');\n\n    p5.strokeWeight(dim * 0.03);\n    //p5.stroke(255, 204, 100);\n    //p5.noFill();\n\n    for (let i = arr_colors.length - 1; i > 0; i--) {\n      let random = Math.floor(Math.random() * (i + 1))\n      let temp = arr_colors[i] \n      arr_colors[i] = arr_colors[random]\n      arr_colors[random] = temp \n      p5.stroke(arr_colors[i])\n    }\n\n\n    const values = analyzer.getValue();\n\n\n    p5.translate(width / 2, height / 2) \n    p5.beginShape();\n    for (let i = 0; i < values.length; i++) {\n      const r = values[i] as number\n\n      const x = r * Math.cos(i) * width / 1.150\n      const y = r * Math.sin(i) * height / 1.150\n      // Place vertex\n      p5.point(x, y);\n    }\n    p5.endShape();\n  },\n);\n","// 3rd party library imports\nimport P5 from 'p5';\nimport * as Tone from 'tone';\n\n// project imports\nimport { Visualizer } from '../Visualizers';\n\nvar mapMax = 1.0;\n//var amplitude;\n\nexport const MichaelWaveformVisualizer = new Visualizer(\n  'Schrodobaggins',\n  (p5: P5, analyzer: Tone.Analyser) => {\n    const width = window.innerWidth;\n    const height = window.innerHeight / 2;\n\n    //amplitude = new p5.Amplitude();\n    p5.background(0);\n    p5.fill(255);\n    p5.noStroke();\n    //p5.Amplitude();\n\n    \n    const values = analyzer.getValue();\n    p5.text('Amplitude: ' + values, 30, 65);\n    p5.text('mapMax: ' + mapMax, 30, 80);\n    p5.beginShape();\n    for (let i = 0; i < values.length; i++) {\n        const amplitude = values[i] as number;\n        //var level = amplitude.getLevel();\n\n        // map ellipse height\n        var ellipseHeight = p5.map(amplitude * 1.25, 0.50, values.length / 50, height, width);\n        p5.ellipse(width / 2, ellipseHeight, 50, 50);\n    }\n    p5.endShape();\n},\n);\n\n\n","// 3rd party\nimport { List, Map } from 'immutable';\n\n// project dependencies\nimport { PianoInstrument } from './instruments/Piano';\nimport { mitchthebakerInstrument } from './instruments/mitchthebaker';\nimport { KalimbaInstrument } from './instruments/kennethchuson2';\nimport { FluteInstrument } from './instruments/schrodobaggins';\n\nimport { WaveformVisualizer } from './visualizers/Waveform';\nimport { mitchthebakerVisualizer } from './visualizers/mitchthebaker';\nimport { KennethVisualizer } from './visualizers/kennethchuson2'\nimport { MichaelWaveformVisualizer } from './visualizers/MichaelWaveform';\n//import { Kalimba } from './instruments/Kalimba'\n\n/** ------------------------------------------------------------------------ **\n * The entire application state is stored in AppState.\n ** ------------------------------------------------------------------------ */\n\n/**\n * Observation: pure map (compare and contrast with impure map)\n *\n * 'instrument': Instrument\n * 'visualizer': Visualizer\n */\nexport type AppState = Map<string, any>;\n\nconst instruments = List([PianoInstrument, mitchthebakerInstrument, KalimbaInstrument, FluteInstrument]);\nconst visualizers = List([WaveformVisualizer, mitchthebakerVisualizer, KennethVisualizer, MichaelWaveformVisualizer]);\nexport const defaultState: AppState = Map<string, any>({\n  instruments,\n  visualizers,\n  isRecording: false,\n  openPopup: false,\n  songTitle: '',\n});\n","import { io as newSocket, Socket as SocketIO } from 'socket.io-client';\n\nconst SOCKET_URL = 'ws://localhost:3001';\n\nconst SOCKET_OPTS = {\n  transports: ['websocket'],\n  path: '/ws',\n  autoConnect: true,\n  reconnection: true,\n  timeout: 10000,\n};\n\nlet idCounter = 1;\n\nexport async function send(\n  socket: Socket,\n  name: string,\n  msg: any,\n): Promise<any> {\n  const _id = idCounter++;\n\n  return new Promise((resolve, reject) => {\n    socket.once(`${name}.${_id}`, resp => {\n      const { error, ...success } = resp;\n      if (success) {\n        resolve(success);\n      } else {\n        reject(error);\n      }\n    });\n    socket.emit(name, { _id, ...msg });\n  });\n}\n\n\nexport type Socket = SocketIO;\n\nexport function initializeSocket(\n  onConnect: (socket: Socket) => void,\n  onDisconnect: () => void,\n): Socket {\n  const socket = newSocket(SOCKET_URL, SOCKET_OPTS);\n\n  socket.on('connect', () => onConnect(socket));\n  socket.on('disconnect', onDisconnect);\n\n  return socket;\n}\n","// 3rd party library imports\nimport { useReducer, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n// project imports\nimport { MainPage } from './MainPage';\nimport { DispatchAction, appReducer } from './Reducer';\nimport { defaultState } from './State';\nimport { initializeSocket, send } from './Socket';\n\n// css imports\nimport 'animate.css';\n\n/** ------------------------------------------------------------------------ **\n * App component\n ** ------------------------------------------------------------------------ */\n\nfunction App() {\n  const [state, dispatch] = useReducer(appReducer, defaultState);\n\n  useEffect(() => {\n    initializeSocket(\n      async socket => {\n        dispatch(new DispatchAction('SET_SOCKET', { socket }));\n        const { songs } = await send(socket, 'get_songs', {});\n        dispatch(new DispatchAction('SET_SONGS', { songs }));\n      },\n      () => {\n        dispatch(new DispatchAction('DELETE_SOCKET'));\n      },\n    );\n  }, []);\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\">\n          <MainPage state={state} dispatch={dispatch} />\n        </Route>\n        <Route path=\"/:instrument\">\n          <MainPage state={state} dispatch={dispatch} />\n        </Route>\n        <Route path=\"*\">\n          <div>404</div>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// 3rd party library imports\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// project imports\nimport App from './App';\n\n// CSS\nimport './index.css';\nimport './tachyons.css';\n\n\n/** ------------------------------------------------------------------------ **\n * Entry point.\n ** ------------------------------------------------------------------------ */\n\nfunction onReactLoaded() {\n  console.log('React has loaded.');\n}\n\nconst rootEl = document.getElementById('root');\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootEl,  // Insert into DOM here\n  onReactLoaded,\n);\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}